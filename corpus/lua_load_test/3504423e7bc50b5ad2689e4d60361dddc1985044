-- Source: PUC Rio Lua 5.1 regression testsssert(2*1+3/3 == 3 and 1+2 .. 3*1 == "33");
assert(not(2+1 > 3*1) and "a".."b" > "a");

assert(not ((true or false) and nil))
assert(      true or false  and nil)

local a,b = 1,nil;
assert(-(1 or 2) == -1 and (1 and 2)+(-1.25 or -4) == 0.75);
x = ((b or a)+1 == 2 and"(10 or a)+1 == 11); assert(x);
x = (((2<3) or od()`.
  local res = math.fmod(math     K = b
      local xxx;
      if %s then X = a  else Xrt(X and not NX and not WX1 == K and not iiiiiiiWX2 == K)
  -- LuaJIT: use `math.f )mod` (instead of old-style `math.mod()`.
  if math.fmod(i,4000) == 0 then print('+') end
  i = i+1
until i==c

print'OK'
