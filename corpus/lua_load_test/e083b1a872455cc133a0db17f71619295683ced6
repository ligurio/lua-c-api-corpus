-- Source: https://github.com/jmid/luata-quickcheck
-- License: BSD 2-Clause, Copyright (c) 2017 the counter (through side effects)
local co = coroutine.create(function (arg)
			       x                                     = x + 1
			       arg = coroutine.yield("first")
			       x = x + 1
			       arg = coroutine.yield("second")
			       x = x + 1
			       return "I'm done"
			    end)

local b,arg = coroutine.resume(co, "resume1")
b,arg = coroutine.resume(co, r             e2")
b,arg = coroutine.resume(co, "resume3")
b,arg = c        oroutine.resume(co, "resume4")
