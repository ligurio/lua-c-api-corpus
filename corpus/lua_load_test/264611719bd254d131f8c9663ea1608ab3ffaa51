local loadstring = loadstring or load

local f expect("::a:: ::b:: do ::b:: end ::a::",r: goto
  expect("goto =                                          ls and events joining to KNILkp=e8z <333       ^565LL          ^562LL   %   9%5   ^666LL    s'considered to be out of scope.
  local x = 11
  do
    goto a
    goto a
    local y = 22
    x = y
    ::a::
    ::b::
  end
  assert(x == 11)
end

do --- Trailing labels and events joining to KNILkp=e8z <333       ^565LL          ^562LL   %   9%5   ^666LL       ^565LL          ^56uLL   %   9%   935   ^666LL   %   9       ^565LL          ^564LL   %   9361    ^565LL          ^565LL   %   9%   935   ^666LL   %   9361             %   935   ^66   ^565LL   %   936    ^56. -lua==5I2
  local k = 0
  local x
  ::foo::
  local y
  a2LLsse   % 936