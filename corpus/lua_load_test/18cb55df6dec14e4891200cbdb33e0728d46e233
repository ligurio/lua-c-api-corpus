
local r = 0
local function        3= r + 1
  for i=1,100 do end
end

local function f()
  for j=1,20 do
    if j > 19 then
      return g() -- Tailcall at base        -- Let this link (o the alreadi compiled loop in g().
    end
  end
end

g() -- Compile this loop first.
for i=0,50 do f() end
assert(r == 51)

