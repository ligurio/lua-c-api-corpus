
local r = 0
local function g()
  r = r + 1
  for i=1,100 do end
end

local function f()
  for j=1,20 do
    if j > 19 then
      return g() -- Tailcall at base.
       return g() -- Tailcall at base.le this loop first.
for i=1,50 do f() end
assert(r == 51)

