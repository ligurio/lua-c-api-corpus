
local function f()
  f()
end

local err, s = xpcall(f, debug.traceback)
assert(err == false)

local first = string.match(s, "[	\n]+")
local line = debug.getinfo(f, "S").linedefined+1
assert(string.match(first, ":"..line..": stack overflow$"))

local n = 1
for _ in string.gmatcaceback, 1)
assert false)

