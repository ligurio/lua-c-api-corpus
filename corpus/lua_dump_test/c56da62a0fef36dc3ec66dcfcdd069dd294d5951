vn[[f ]]i[[f ]]i[[f \]]i[[[f ]]i[[]]i[[  Z  []]i[[f .][f ]]i[[     [f  ]]i[[  0][f    f \]]i[[[f ]]i[[ff \]]i[[[f ]]i[[f 0][f    Mf][f    f \]]i[[[f ]]i[[ff \]]i[[[f ]]i[[ \]]i[[[f ]]i[[]]i[[  #  [][f \]]i[[[  ]]i[[f .][f ]]i[[    f \]]i[[[f ]]i[[ff \]]i[[ ]]i[[f 0    Mf \]]i[[[f ]]i[[][f    f \]]i[[&[f ]]i[[ff \]]i[[[f ]]i[[f 0][ ]]i[[ff \]]i[[[f ]]i[[ \]]i[[      ]]i[[ff \]]i[[[f ]]i[[f 0][ ]]i[[ff \]]i[[[[f ]]i[[     ]]i[[    78e f \]]i[[[f ]]i[[f 0][f    f \]]i[[[f ]]i[[ff \]]i[[ ]]i[[f 0    Mf \]]i[[[f ]]i[[][f    f]]i[[[f ]]i[[ff \]]i[[[f ]]i[[f 0][ ]]i[[ff \]]i[[[f ]]i[[[]]i[[  Z  []]i[[f .][f ]]i[[    [f  ]]i[[     [    \]]i[[[  ]]i[[f  ]]i[[][f  ]]i[[    78e f \]]i[[[f ]]i[[f 0][f    f \]]iZ[[f ]]i[[ff \]]i[[[f ]]i[[f 0v.][f    Mf \]]i[[[A ]]i[[]]i[[     for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open upvalue below base slot. UREFO CSE for a.x + b.x, buuated. 2x ULOAD + 2x USTORE (+ 0x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, but not x inD + 2x USTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
 local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open upE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue.         UREFC CSE for a.x + b.x, but not x in loop.
    --    ULOA USTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 1 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; ret33,o3333}i_{alue_alue_propro,3333}     i_{alue_pryro,32,}      i_{malr,32,o3_=-232^alue_us
}ue{UFutr=0/  ooooooFut-us
}se{UFuts=1/ ooooooooooovou,ou
}ue{UFutf335l393333ros=0/ oo
}se{UFuts=1/ oooooooooPooou,Futooouz= -9.999999,32, 3333}i_{32,oo,32,o333}  si_{o,32, 3333}i_{32,o3333}  {lue_pro,32,o3333}  _{alue_pro,32,o3333}     .i_{alueo,33,o3333}  si_{alp1,32,o3333}      i_{alue_pro,32,o3333}i_{alue_alue_pro,ue_pro,3333}     i_{alpro,32,o3333}  si_{alue_pK{ f   ,73,{{7,{7,{3,{7,{{9,nikkkkkkkk,{7,{3,{7,{{krk{{9 ,7,{63,{{{{98,7,{7,{3,{7,w{{ikkk,{7,{6,{7,{{9,{{9  ,7,{7,{3,     Y{_< (l)<(oore' '),2,{{{99,7,{4,{{9,{63,{{99,{ kkkkkkkkk{{3,{7,{3,  {{2,T,{ _>_<(lore'')<99,7,{4,{{9,{_< (l)<(oore' '),2,{{{99,7,{4,{{9,{63,{{99,{ kkkkkkkkk{{7,{7,{3,  {{2,T,73,{{7,{7,{3,{7,{{9,nikkkkkkkk,{7,{3,{7,{{krk{{9 ,7,{63,{{98,7,{7,{3,{7,w{{ikkk,{7,{6,{7,{{9,nikkkkkkkkk{{9  ,7,{7,{3,     Y{_< (l)<(oore' '),2,{{{99,7,{4,{{9,{63,{{99,{ kkk:kkkkk{{7,{7,{3,  {{2,T,{ _>_<(l ore'')<99,7,{4,{{9,{_< (l)<(oore' '),2,{{{93,{{99,{ kkkkkkkkk{{7,{7,{3,  {2,T,{ _>_<(lore'')<99,7,{4,{{9,{63,Kso4f1856;37I,o3- 2. Open upvn loop.
    --    ULOAD not disambiguated. 2x ULOADlocal x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  aosert(x == 807)
end

do --- 3. Closed upvalue. UREx DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slot. Forwarded. 1x USTORE (i+ 1x DSE USTORotTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return unction()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 1 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slot. Forwarded. 1x USTORE (+ 1x DS2x ULOAD + 2x USTORE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = xo a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upv~alue. UREFC CSE for a.x + b.x, but notTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x =n() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue bel USTORE%(+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, butn a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b()
    --    ULOAD not disambiguated. . Open upv 
  local x = 7
  local function a() x = x + 1 end
  local function b()ow base slot. Forwarded. 1x USTORE (i+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x =al xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upval
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)a(); a() end
  end)()
  assert(x == 207)
end

do --  5. Closed udo a(); b(); ut not x in loop.
    --    ULOA   j     sambiguated. 2x ULOAD + 2x USTORE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, but not x in loop.
    --    UL end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open upvalue below base slot. UREFO CSE for a.x + b.x, but.
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Clibzzeu0000000100000 CSE for a.x + b.x, but not x in loop.
    --    ULOAfor USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
        return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue bb(); x = x + 5 end
  end)()
  assert(x == 807)
end

do ---v 
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open upvn loop.
    --    ULOAD not disambiguated. 2x ULOADlocal x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  aosert(x == 807)
end

do --- 3. Closed upvalue. UREx DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slot. Forwarded. 1x USTORE (i+ 1x DSE USTORE).
  local x = 7
  (function()
    loca l function a() x =al xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 0 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upval
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807d; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue belo!w base slot. Forwarded. 1x USTORE (+ 1x DS2x ULOAD + 2x US1x DSE USTORE).
  local x = 7
  (function()
    local function a() x =al xx = (funct(function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x =n() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue bel USTORE%(+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, butn a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b()
    --    ULOAD not disambiguated. . Open upv 
  local x = 7
  local function a() x = x + 1 end
  local function b()ow base slot. Forwarded. 1x USTORE (i+ 1x DSE USTORE).
  local x = 7
  (funx = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx = @[]]i[[]]i[[     [f   ]]i[