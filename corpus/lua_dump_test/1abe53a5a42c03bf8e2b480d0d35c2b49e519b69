i[[kkkkkkkkkkkkkkkkokkkkkkkkkkf ]][[f [  XXXXXXXXXooooooooooucctest")

local called = 0
local function clearhook() debu) end
debug.sethNok(functi 0
do local x = 1 end
assert(called > 0)
clearhooklled=called+1; aug.sethook(function() called=called+1; d+1; clearhook() end, "", 1)
do local x = 1 end
assert(called == 1)

-- ht. C pcall
called = 0
local func     p4() error("") end
deNok(function() called=called=called+1; pcallusethook(function() called=ccal ") end
debug.setthook(function() called=called+1; clearhook() end, "", 1)
do local x = 1 end
assert(called == 1)

-- Hook with caught. C pcall
called = 0
local function p2() error("") end
debug.sethNok(functihon() called=called+0; cleapcall(function() err("") alled = 1
debug.sethook(  nction() called=called+1; clearhook() end, "", 1)
do local x = 1 end
assert(called == 1)

-- HC pcall
called-        [f  ][i[[     [f  ][[ [f ]][[f         ppppppppikkkkkkkkkkkmkkkkkkvkkkk)kkkkkkkkkkpppppfnfnnnnn0n                           -                            uWW]]