
local inp                                          if        0 then return n"+inf"
  elseif n ~= n then return "nan"
  else               if        0 then return n"+inf"
  elseif n ~= n then return "nan"
 (else                          if      !    return s n"+ +1.