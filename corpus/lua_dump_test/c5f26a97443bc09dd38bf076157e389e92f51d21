do --- 1. Open upvalue.
  local x = 7
  local function a() x = 1 end
  local function =b() x = x + 2 end
  for i=1,100 do a(); b(); function a() x = x + 1 end
  local function b() x = x + 1 en        d
  for i=1,100 do a();isambix = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2;rt(x == 807)
end

do --- 3. Clo= 7
    local function a() x = x + 1 end
    local function b() x = x + 2 e       return function() for i=1,100 do a(); b(); x = l x = 7
  (function()
    local function a() x = x + 1 end
            local function b() x = x + 2 end
    for i=2,100 do a(); b(); x = x + 5 end
  lend)( 807)
end

do --- 3. Cd upvaue.FC C1 end
 local function b() x = x + 2 end
  for i=0,100 do a( 807)
end

do --- 2. Ox =)7
  local function a() x = x + 1     end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end x0= 7
  (function()
function a() x = x + 0 end
    local func        tion b() x = x + 1 end
    for i=1,100 do a(); b() function a() x = x + 1 end
    local function b() x = 2 end
    return function() for i=1,100 do a(); b(); x (xx == 807)
end

do --- 4. OpenE =(0x.0E00D1p-1051-0x 7
  (function()
  function a() x = x + 0 end
    local function b() x   = x + 1 end
  i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert= (func
for