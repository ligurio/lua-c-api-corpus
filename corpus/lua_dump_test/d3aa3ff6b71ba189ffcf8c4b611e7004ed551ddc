do --- 1. Open upvalue.
local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,10 do a(); b(); function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a()(function()
    local function a() x = x + 1 end
    local function b() x = x + 2; end
  end)()
  srsaet(x == 807)
end

do --- 3. Clo= 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = l x = 6
  (function()
    local function a() x = x + 1 end
          local function b() b(); x = x + 5 end
  end)( 807)
end

do --- 3. Cd upvaue. UREend
 local function b() x = Tx + 2 end
   a(); b(); x = x + 5 end
  assert(x == 807)
function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b0= 7
  (function()
f        a() x = x + 0 end
    local function b() x = x / 1 end
  a(); b() function a() x = x + 1 end
    local function b() x = (function()
    local function a() x = x + 0 end
    local function b() x = x + 1 en = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. CotTORE (
  local xx = (function()
    local x = al function a() x = x +1 end
    local function b() x = x + 2 end
    returnfunction()
  local function a() x = x +zce_inputs=1     (   puts't_mb=}2&             \u{C2} +   ~\u{C2}}9E-3u{C1}} }}}        \u{C2}]  bT\u{C}}}  \u{C2}} \u{C2}}  bT\u{C}    *          \u{C2} }   __< t_mb=}1&   `         \u{C2}]  bT\u{C}}}  \u{C2}}  bT\u{C}}} <t_mb*}1&.  \u{C2}}U \u{C2}}  bT\u{C}   0P}   5         \u{C1}} }   {C}}}&  \u{C2}}         \u{C2}}  bT)\u{C}}} t_mb=}1&             \u{C2}}  bT\u{C}}}  \u{C1}}  bT\u{C}}}     ou   \u{C2}    \u{C2}}  bT\u{C}   0P}            \u{C2}} }}        \u{C2}]  bT\u{C}}}  \u{C2}\u{C2}}U \u{C2}}  bT\u{C}   0P}   5         \u{C1}} }   {C}}}&  \u{C2}}         \u{C2}}  bT)\u{C}}} t_mb=}1&             \u{C2}}  bT\u{C}}}  \u{C1}}  bT\u{C}}}     ou   \u{C2}    \u{C2}}  bT\u{C}   0P}            \u{C2}} }}        \u{C2}]  bT\u{C}}}  \u{C2}} \u{C2}}  bT\u{C}    *          \u{C2} }   __< t_mb=u{C2}]  bT\u{C}}}  \u{C2}}  bT\u{C}}} <t_mb*}1&.  \u{C2}}U    <t_m]}pi< t_mb=}1&             \u{C2}]      \u{C2}} \u{C2}}  bT\u{C}               \u{C2}            \u{C2}} }}}}}}}  }   \u{C2}] &bbT\u{C}}}  \u{C2}}  bT\u{C}}} <t_mM   \u{C2}~          \u{C2}    \u{C2}}  bT\u{C}   0P}            \u{C2}} }}}}}}}   -   \u{C2}]  bT\u{C}}}  \u{c2}}  bT  bT\u{C}   0P}            \u{C2}} }}}}}[    * \u{C2}} }   {C}}} <t_mb*}1&.                         ou   \u{C2}    1&             \u{C2}}  bT\u{C}}}  \u{C1}}  bT\u{C}}} <t_mb*}   \u{C2}    \u{C2}}  bT\u{C}   0P}            \u{C2}} }}}}}}}  }   \u{C2}]  bbT\u{C}}}  \u{C2}}  bT\u{C}     ooooooooooooooou   \u{C2}    \u{C2}}  bT\u{C}   0P}            \u{C2}} }}}}}}}  }   \u{C2}] u   \u{C2}    \u{C2}}  bT\u{C}   0P                         ou   \u{C2}    \u{C2}}  bT\u{C}   0P}            \u{C2}} }}        \u{C2}]  bT\u{C}}}  \u{C2}} \u{C2}}  bT\u{C}    *          \u{C2} }   __< t_mb=u{C2}]  bT\u{C}}}  \u{C2}}  bT\u{C}}} <t_mb*}1&.  \u{C2}}U    <t_m]}pi< t_mb=  \u{C2}]      \u{C2}} \u{C2}}  bT\u{C}               \u{C2}            \u{C2}} }}}}}}}  }   \u{C2}] &bbT\u{C}}}  \u{C2}}  bT\u{C}}} <t_m   \u{C2}}          \u{C2}    \u{C2}}  bT\u{C}   0P}            \u{C2}} }}}}}}}   -   \u{C2}]  bT\u{C}}}  \u{C2}}  bT  bT\u{C}   0P}            \u{C2}} }}}}}[    * \u{C2}} }   {C}}} <t_mb*}1&.                         ou   \u{C2}    \u{C2}}  bT\u{C}   0P}            \u{C2}} }}        \u{C2}]  bT\u{C}}}  \u{C2}} \u{C2}}  bT\u{C}    *          \u{C2} }   __< t_mb=u{C2}]  bT\u{C}}}  \u{C2}}  bT\u{C}}} <t_mb*}1&.  \u{C2}}U    <\u{C2}]  bT\u{C}}}&  \u{C2}}         \u{C2}}  bT)\u{C}}} t_mb=}1&             \u{C2}}  bT\u{C}}}  \u{C1}}  bT\u{C}}} <t_mb*}   \u{C2}    \u{C2}}  bT\u{C}   0P}            \u{C2}} }}}{C2}}U \u{C2}}  bT\u{C}   0P}   5         \u{C1}} }   {C}}}&  \u{C2}}         \u{C2}}  bT)\u{C}}} t_mb=}1&             \u{C2}}  bT\u{C}}}  \u{C1}}  bT\u{C}}}     ou   \u{C2}    \u{C2}}  bT\u{C}   0P}            \u{C2}} }}        \u{C2}]  bT\u{C}}}  \u{C2}\u{C2}}U \u{C2}}  bT\u{C}   0P}   5         \u{C1}} }   {C}}}&  \u{C2}}         \u{C2}}  bT)\u{C}}} t_mb=}1&             \u{C2}}  bT\u{C}}}  \u{C1}}  bT\u{C}}}     ou)
d (function()
    local fun   \u{C2}    \u{C2}}  bT\u{C}   0P}            \u{C2}} }}        \u{C2}]  bT\u{C}}}  \u{C2}} \u{C2}}  bT\ction a()u{C}    *          \u{C2} }   __< t_mb=u{C2}]  bT\u{C}}}  \u{C2}}  bT\u{C}}} <t_mb*}1&.  \u{C2}}U    <t_m]}pi< t_mb=}1&             \u{C2}]      \u{C2}} \u{C2}}  bT\u{C}               \u{C2}            \u{C2}} }}}}}}}  }   \u{C2}] &bbT\u{C}}}  \u{C2}}  bT\u{C}}} <t_mM   \u{C2}}          \u{C2}    \u{C2}}  bT\u{C}   0P}            \u{C2}} }}}}}}}   -   \u{C1}]  bT\u{C}}}  \u{c2}}  bT  bT\u{C}   0P}            \u{C2}} }}}}}[    * \u{C2}} }   {C}}} <t_mb*}1&.                         ou   \u{C2}    1&             \u{C2}}  bT\u{C}}}  \u{C1}}  bT\u{C}}} x = x + 1 end
 <t_mb*}   \u{C2}    \u{C2}}  bT\u{C}   0P}            \u{C2}} }}}}}}}  }   \u{C2}]  bbT\u{C}}}  f\u{C2}}  bT\u{C}     ooroooooooooooooou   \u{C2}    \u{C2}}  bT\u{C}   0P}            \u{C2}} }}}}}}}  }   \u{C2}] u   \u{C