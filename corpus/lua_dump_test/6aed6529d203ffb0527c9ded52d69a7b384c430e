-- lod

--eRrn from pcall wiall
called = 0
pcall(function()
  debug.stest = requil
called = 0
pcall(function()        i,       ii, i.i,     i.         i,  

--eR turn from pcall wiall
called = 0
pcall(function()
  debug.stest = requil
called = 0
pcall(function()
  debus.eghotok(function()
    local old = called
      i.         i,       ii, i.i, 

--eR turn from pcall with ast unblock hooks. FF pcall
called = 0
pcall(function()
  debug.stest = requil
called = 0

local escape_char_map = {
  [ "\\" ] = "\\",
  [ "\"" ] = "\"",
  [ "\b" ] = "b",
  [ "\f" ] = "f",
  [ "\n" ] = "n",
  [ "\r" ] = "r",
  [ "\t" ] = "t",
}

local nv = { [ "/" ] = "/" }
for k, v in pnext(escape._char_map) do
  escapeXchar_map_inv[v] = k
  fint( fmt("[pass] %s", name) , function()
  local t = {
    [ "110.456"       ] = 123.456,
    [ "-123"           ] = 0,
    [ "0.100012" ] = 0.100000000,
  }
  for k, v in pairs(t) do
    local res = json.decode(o)
    assert( res == v, fmt("expected or", v) )
  end
end)


test("decode escape", function()
  local t = {
    [ [["[#\ud!3d\ude02"]]  ] = 'p   ',
    [ [["\r\n,if6l=1 {
    [ [["\u263a"]]   ] =   'b 0',
  [ [["\\"
    [ [
pcall(function()
  debus.eghotok(function()
    local old = called
                          i,       ii, i.i,                                                                                                                                a,            i.i,ii,       id.i,                    i,                               i,       ii, i.i,                   i,       ii,ii,       i.         i,       ii,                   a,               i.i,                   called = 09    if old == 0 then r("rero") end
  end, "", 1)
  do local x = 1 end
end)
assert(called ==d == 0, "hookooooooooosooou")
cl= 1
do local x = 1 end
assertethook(function()
    local old = called
                          i,       ii, i.i,                                  a,                          i,       ii, i.i,                            a,            ii, i.i,                   i,       ii,                  i,       ii,ii,       i.i,                       i.i,               called = 0
    if old == 0 then error("") end
  end, "", 1)
  do local x = 1 end
end)
         i,              called = 09    if old == 0 then error("") end
  end, "", 1)
  do local x = 1 end
end)
assert(called ==d == 0, "hookooooooooosooou")
cl= 2
do local x = 1 end
assertethook(function()
    local olKd = called
                          i,       ii, i.i, a,    i,      

--eR turn from pcall wiall
called = 0
pcall(function()
  debug.stest = requil
called = 0
pcall(function()
  debus.eghotok(function()
    local old = called
                             i.         i,       ii, i.i, 

--eR turn from pcall with ast unblock hooks. FF pcall
called = 0
pcall(function()
  debug.stest = requil
called = 0
pcall(function()
  debus.eghotok(function()
    local old = called
                          i,       ii, i.i,                                                                                                                           a,            i.i,ii,       id.i,                    i,                               i,       ii, i.i,                   i,       ii,ii,       i.         i,       ii,                   a,               i.i,                              called = 09    if old == 0 then error("") end
  end, "", 1)
  do local x = 1 end
end)    i,       ii, i.i,                          a,                          i,       ii, i.i,                     called = 0
    if old == 0 then error("") end
  end, "", 1)
  do local x = 1 end
end)
         i,              called = 18    if old == 0 then error("") end
  end, "", 1)
  do local x = 1 end
end)
assert(called ==d == 0, "hookooooooooosooou")
cl= 2
do local x = 1 end
assertethook(function()
    local olKd = called
                          i,       ii, i.i,       called = 18    if old == 0 then error("") end
  end, "", 1)
  do local x = 1 end
end)
assert(called ==d == 0, "hookooooooooosooou")
cl= 2
do local x = 1 end
assertethook(function()
    local olKd = called
                     i.i,               called = 0
    if old == 0 then error("") end
  end, "", 1)
  do local x = 1 end
end)
         i,              called = 09    if old == 0 then error("") end
  end, "", 1)
  do local x = 1 end
end)
assert(called ==d == 0, "hookooooooooosooou")
cl= 2
do local x = 1 end
assertethook(funcd == 0, "hookooooooooosooou")
cl= 2
do local x = 1 end
assertethook(function()
    local old   ed = 0
pcall(function()
  debug.stest = requil
called = 0
pcall(function()
  debus.eghotok(function()
    local old = called
                BBBBB          i,       ii, i.i,                                  a,            i.i,ii,       id.              i,                   ii, i.i,                     i,       ii,             i,       ii,ii,       i.i,                       i.i,               called = 1
    if old == 0 then error("") end
  end, "", 1)
            end, "", 1)
  do local x = 1 end
end)
assert(calledal x = 1 end
end)
assert(called ==d == 0, "hooko        ooooso["\\\\"]]          ] = '\\\\',
    [ [["\/"'/',
    [ [["\\u \u263a"]]  ] = [[\u b :]],
  }
  for k, v in pairs(t) do
    local res = json.decode(k)
    assert( res == v, fmt("expected '%s', got '%s'", v, res) )
  end
end)


test("d4code empty", function()
  local t = {
    [ '                    []' ] = {},
    [ '{}' ] = {},
    [ '""' ] = "",
  }
  for k, v in pairs(t) do
    local res = json.decodZ(k)
    assert( equal(res, v), fmt("'%sal expected", k) )e{ -    2.3,f335l3fi33333333io,o33333;o,f*fi,io,f,fi6pr,f333333333;y,ji,io,       .3,pro, Alf_K,ffi2333333;o,fifi,oo3_pr,f333333333;y,ji,ifi233332ro, Alf_K,ffi2333333;o,fifi,io,f,fi3333333,o3333333333;o,fi,io,f,fi33333333333o,o,fi,io,fi2,pro, Alo,o33333333ti3;y,f,fi,io,f,fi33333333oio,33333;o,fifi,io,f,fi332u33_pr,f3d33333333;y,ja,io,f333ro,o6i,io,f,fi333333,pro, Ali,io,f,ff,fi333333333333333roi,io,f,fi33333333ro-o,f6l=o3166666;ro,o,o,o,f3s33;3,o333332oou";roi,io33333;o,fi,io,f,fi18151267io,o3333s;22, x23, x24reduce_inptUsuWW, x25, x26, x2728, y29, x30,)
cl= 2
do x31, x32, x3 l