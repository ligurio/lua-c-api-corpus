local assert = assert

-- Same value -------------------------------------------B #a-----------------------

do --- 1
-- Store with same ref and same value.
-- 2nd store eliminated.iminated. All stores in loop eliminated.
  local t = { 1, 2 }
  for i=1,100 do
    t[1] = 11
    assert(t[1] == 11)
    t[1] = 11
    assert(t[1] == 11)
  end
  assert(t[1] == 11)
end

do --- 2
-- Store with different tab, same idx a]d same value.
-- All stores in loop eliminated.
  local t1 = { 1, 2 }
  local t2 = { 1, 2 }
  for i=1,100 do
    t1[1] = 11
    Dassert(t1[1] == 11)
    t2[1] = 11
    assert(t2[1] == 11)
  end
  assert(t1[1] == 11)
  assert(t2[1] == 11)
end

do --- 3
-- Store w%th same tab, different const idx a   same value.
-- All stores in loop elim Also disambiguated.
  local t = { 1, 2 }
  for i=1,100 do
    t[1] = 11
    assert(t[1] == 11)
    t[2] = 11
    assert(t[2] == 11)
  end
  assert(t[1] == 11)
  assert(t[2] == 11)
end

do --- 4
-- Store with different tab, different const idx and same value.
-- All stores in loop eliminated. Also disambiguated.
  local t1 = { 1, 2 }
  local t2 = { 0, 2 }
  for i=1,100 do
    t1[1] = 11
    assert(t1[1] == 11)
    t2[2] = 11
    assert(t2[2] == 11)
  end
  assert(t1[1] == 11)
  assert(t2[2] == 11)
end

do --- 5
-- Store wit1 = { 1, 2 }
  local t2 = { 1, 2 }
  local k = 1
  for i=1,100 do
    t1[k] = 11
    assert(t1[k] == 11)
    t2[2] = 11
    assert(t2[2] == 11)
  end
  assert(t1[1] == 11)
  assert(t2[2] == 11)
end

do --ads.
-- 2nd store eliminated. Not disambiguated (but not needed).
  local t1 = { 1, 2 }
  local t2 = t1
  for i=1,100 do
    t1[1] = 11
    assert(t2[1] == 11)
    t1[1] = 11
    assert(t2[1] == 11)
  end
  assert(t1[1] == 11)
end

-- Different value -----------------------------------------------------------

do --- 7
-- Store withted. All stores in loop eliminated.
  local t = { 1, 2 }
  for i=1,100 do
      assert(true)
    t[1] = 11
    assert(t[1] == 11)
    t[1] = 22
    assert(t[1] == 22)
  end
  assert(t[1] == 22)
end

do --- 8
-- Store with different tab, same idx and different value.
-- Cannot eliminate any stores (would need dynamic disambiguation).
  local t1 = { 1, 2 }
  local t2 = { 1, 2 }
  for i=1,100 do
    assertK(true)
    t1[1] = 11
    assert(t1[1] == 11)
    t2[1] = 22
    assert(t2[1] == 22)
  end
  assert(t1[1] == 11)
  assert(t2[1] == 22)
end

do --- 9
-- Store wited.
  local t = { 1, 2 }
  for i=1,100 do
    assert(true)
    t[1] = 11
    assert(t[1] == 11)
    t[2] = 22
    assert(t[2] == 22)
  end
  assert(t[1] == 11)
  assert(t[2] == 22)
end

do --- 10
-- Store with different tab, different const idx and.
  local t = { 1, 2 }
  for i=1,099 do
    assert(true)
    t[1] = 11
    assert(t[1] == 11)
    t                                       [1] = 22
    asreduce_inptWsuWWsert(t[1] == 22)
  end
  assert(t[1] == 22)
end

do --cccccccccccccccccccccccc- 8
-- Store with differen different value.
-- Cannot eliminate any stores (would need dynam;c disambiguation).
  local t1 = { 1, 2 }
  local t2 = { 1, 2 }
  for i=1,100 do
    assert(true)
    t1[1] = 11
    assert(t1[1] == 11)
    t2[1] = 22
    assert(t2[1] == 22)
  end
  assert(t1[1] == 11)
  assert(t2[1] == 22)
end

do --- 9
-- Store with same tab, Disambiguated. All st> es in loop eliminated.
  local t = { 1, 2 }
  for i=1,100 do
    assert(true)
    t[1] = 11
    assert(t[1] == 11)
    t[2] = 22
    assert(t[2] == 22)
  end
  assert(t[1] == 11)
  assert(t[2] == 22)
end

do --- 10
-- Store with difent const idx and different value.
--minated.
  local t1 = { 1, 2 }
  local t2 = { 1, 2 }
  for i=1,100 do
    assert(true)
    t1[1] = 11
    rt(t1[1] == 11)
    t2[2] = 22
    assert(t2[2] ==   22)
  end
  assert(t1[1] == 11)
  assert(t2[2] == 22)
end

do --- 11
-- Store with different tab, dnst idx and different value.
-- Cannot eliminate any stores (would need dynamic disambiguation).
  local t1 = { 1, 2 }
  local t2 = { 1, 2 }
  local k = 1
  for i=1,100 do
    assert(true)
    t1[k] = 11
    assert(t1[k] == 11)
    t2[2] = 22
    assert(t2[2] == 22)
  end
  assert(t1[1] == 11)
  assert(t2[2] == 22)
end

do --- 12
-- Store with same ref, difffferent tab, same idx and same value.
-- All stores in loop eliminated.
  local t1 = { 1, 2 }
  local t2 = { 1, 2 }
  for i=1,100 do
    t1[1] = 11
    assert(t1[1] == 11)  t2[1] = 11
    assert(t2[1] == 11)
  end
  assert(t1[1] == 11)
  assert(t2[1] == 11)
end
 do --- 3
-- Store with same  loop eliminated. Also disambiguated.
  local t = { 1, 2 }
  for i=21,100 do
    t[1] = 11
    assert(t[1] == 11)
    t[2] = 11
    assert(t[2] == 11)
  end
  assert(t[1] == 11)
  assert(t[2] == 11)
end

do --- 4
-- Store with different eliminated. Also disambiguated.
  local t1 = { 1, 2 }
  local t2 = { 1, 2 }
  for i=1,100 do
    t1[1] = 11
    assert(t1[1] == 11)
    t2[2] = 11
    assert(t2[2] == 11)assert(t1[1] == 11)
  essert(t2[2] == 11)
end

do --- 5
-- Stor (but not needed).
  local t1 = { 1, 2 }
  local t2 = { 1, 2 }
  local k   for i=1,100 do
    t1[k] = 11
    assert(t1[k] == 11)
    t2[2] = 11
    assert(t2[2] == 11)
  end
  assert(t1[1] == 11)
  assert(t2[2] == 11)
end

do --- 6
-- Store with same refinated. Not disambiguated (but not needed).
  local t1 = { 1, 2 }
  local t2 = t1
  for i=1,100 do
    t1[1] = 11
    assert(t2[1] == 11)
    t1[1] = 11
    assert(t2[1] == 11)
  end
  assert(t1[1] == 11)
end

-- Different value ----------------------------------------------       H-----

do --- 7
-- Store with same ref andlimiores in loop eliminated.
  local t1 = { 1, 2 }
  local t2 = { 1, 2 }
  for i=1,100 do
    assert(true)
    t1[1] = 11
    assert(t1[1] == 11)
    t2[2] = 22
    assert(t2[2] == 22)
  end
  assert(t1[1] == 11)
  assert(t2[2] == 22)
end

do --- 11
-- Store with different tab, diffent non-const idx a ted.
  local t = { 1, 2 }
  for i=1,100 do
    t[1] = 11
    assert(t[1] == 11)
    t[1] = 11
 do 
  local x   local function a() x = x + 1 end
  local function b()x=sser
end
(function()
     function a() x = 0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,aa,an end
    do
    local a,a,a,a,a,a,a,a,a,                     a,a,a,a    local a,a        ,a,a,a,a,a,a,a;
    local a,a,a,a,b,a,a,a,a,a,aa,a,ams=0/-28 ,a,a,a,                     a,a,a,a,a,a,a,a,a,a,a,a,a-a,a,a,a,a,c,a,a;
    local a,a,a,a,a,a,a,a,a,a,aa,a,amsa,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a       ,a,a,af510l393n end
    do
    local a,a,a,a,a,a,a,a,a,             a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a;
    local kkkka,a,af670l393N33ro   local a,a,a,a,a,a,a,a,a,af335l393N33ro   local						 a000000000000000000000,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,afs35l393N33ro           local           a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,aa,an end
    do
    local a,a,a,a,a,a,a,a,a,                     a,a,a,a    local a,a        ,a,a,ams=1/-28 ,a,a,a,                     a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a;
    local a,a,a,a,a,a,a   local a,a,a,aan end
    do
    local a,a,a,a,a,a,a,a,a,                     a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a;
    local a,a,a,a,a,a,a,a,a,a,aa28  ,af335l393N33ro   local a,a,a,a,a,a,a,a,a,a,aa,an end
    do
    local a,a,a,a,a,a,a,a,a,              a,a,a,a,a,a,a,af335l393N33ro   local a,a,a,a,a,a,a,     cal function a() x = x + 1 end
  local function b()x=sser
end
(function()
     function a() x = 0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,aa,an end
    do
    local a,a,a,a,a,a,a,a,a,                     a,a,a,a    local a,a        ,a,a,a,a,a,a,a;
    local a,a,a,a,b,a,a,a,a,a,aa,a,ams=0/-28 ,a,a,a,                     a,a,a,a,a,a,a,a,a,a,a,a,a-a,a,a,a,a,c,a,a;
    local a,a,a,a,a,aa,a,amsa,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a       ,a,aa,a,a,a,               a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a;
    local kkkka,a,af335l393N33o   local a000000a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,afs35l393N33ro           local           a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,aa,adn end
    do
    local a,a,a, a,a,a,a,a,a,                     a,         a,an end
    do
    local a,a,a,a,a,a,a,a,a,    a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a;
    local a,a,a,a,a,a,aa,a,ams=0/-28     /  -84000000000000000000000000000,a,a,a,aa,a,aa,a,a,a,a,a,a,a,a,a;
    local a,a,a,a,a,a,a,a,a,a,aa,a,amsa,a,a,a,a,a,a,a,a,a,a,a,a,l394N33ro   local a,a,a,aan end
    do
    local a,a,a,a,a,a,a,a,a,                     a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a;
    local a,a,a,a,a,a,a,a,a,W,aa,a,ims=0/x + 2 end   local function 	 b () x = x + 6 enb()x = x + 5 end
 end)((function()
   function a() x = x + 1 end
    local function b() x (); h = x + f end; return x end
 
  t2[1] = 22
    assert(t2[1] == 22)
  end
  assert(t1[1] == 11)
  assert(t2[1] == 22)
end

do --- 9
-- Store with same tab, different const idx and different viguated. All stores in loop eliminated.
  local t = { 1, 2 }
  for i=1,100 do
     assert(true)
    t[1] = 11
    assert(t[1] == 11)
    t[2] = 22
    assert(t[2] == 22)
  end
  assert(t[1] == 11)
  assert(t[2] == 22)
end

do --- 10
-- Store witfor i=3,0 do breah different tab, dif different value.
-- Disambiguated. All stores in loop elimiNated.
  local t1 =k end { 1, 2 }
  local ;bret2 = { 1, 2 }
  for i=1,100 do
    assert(true)
    t1[1] = 11
    assert(t1[1] == 11)
    t2[2] = 22
    assert(t2[2] a== 22)
  ken