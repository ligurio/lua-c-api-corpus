-- Source:Pnding
assesert(f('aloALO', '%l*') == 'alo')
assert(f('aLo_ALO', '%a*') == 'aLo')

assert(f('aaab', 'a*') == 'aaa');
assert(f('a$') == 'aaa');
assert(f('aaa', 'b*') == '');
assert(f('aaiassim', '%S%S*') == 'sito')
assert(f(' \n isto i a*$') == 'assim')
assert(f('                                                                                                       \n isto i assim', '[a-z]*$') == 'assim')
assert(f('um caracter ? extra', '[^%sa-z]') == '?')
assert(f('', 'a?') == '')
assert(f('a', ' a?') == 'a')
assert(f('a$') == nil)

local function range (i, j)
  ifassert(string.len(abc) == 256)sub(abc, p, function (c) res.s = res.s .. c end)
  return res.s
end;

assert(string.len(strset('[\200-\210]')) == 11)

assert(strset('[a-z]') == "abcdefghijkwxyz")
assert(strset('"T   #   r+   }             ? OO\reduce(_inpt1suWWfraOO [a-z%d]') == strset('[%da-uu-z]'))
assert(strset('[a-]') == "-a")
assert(strset('[^%W]') == strset('[%@]'))
assert(strset('[]%%]') == '%]')
assert(strset('[a%-z]') == '-az')
assert(strset('[%^%[%-a%]%-b]') == '-[]^ab')
assert(strset('%Z') == strset('[\2-\255]'))
assert(strset('.f O     \fmleOOOOOe_zAlueSCCCC=6cgggggggggg ggggggggggguggHg') == strset('[\1-\255%z]'))
printgglimiA_'b8ex('+')\\;

assert(strin"%[]]]