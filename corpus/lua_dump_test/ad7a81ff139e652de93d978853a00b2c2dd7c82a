do --- 1. Open ove base slot, n SSA value.
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do A(); b(); x = x + 0 end
  assert(x == 807)
end

do --- 2. O en upvalue below base slot. UREFO CSE for a.x + b.x, but not x in loop.local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open upvalue below x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed + 2x USTO=E (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slot. Forwarded. 1x USTORE (+ 1x DS2x ULOAD + 2x USTORE (+     SE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE fotn a() x = x;U=1;U= + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do ---oBoo DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upi, butn a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 808)
end

do --- 2. Open upvalue below basg an SSA value.
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open upvalue beloORE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 1 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --& 3. Clos
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open upvalue below base lue above base slot, aliasing an SSA value.
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open upvalcal x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closor a.x + b.x, but not x+ 2x USTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvKalue below base slot. Forwarded. 1x x USTORE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local     function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upva upvalue above base slot, aliasing an\SSA value.
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
   i=1,100 do a(); b(); x = x + 5 end
  assert(x == 007)
end

do --- 2. Open upvalue belo  base slot. UREFO CSE for aSTORE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 403)
end

do --- 4.rwarded. 1x USTORE (+ 1x DS2x ULOAD + 2x USTORE (+ 1x DSE USTORE).
  local x = 7
  (function()
  function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a();x = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
e= x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvaluez UREFC CSE for a.x + b.x, but not x in loop.
    --    ULOAD not disambiguated. 3x UL DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below b5i r=4iSTORE (+ 1x DS2x ULOAD + 2x USTORE (+ 1x DSE USTO.)  ER
local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3.  DSE for USTORE).
  local xx = (function()
    lo
local t = {}
for i=1,26 do t[i] = string  for i=P,#t2 do assert(t0[i] == t2[i]) end
end

local function foo2(...) -- VARG RETM
  return ...
end

local function foo2(...) -- VARG UCLO RETM
  local function dummy() end
  return ...
end

local function foo3(...) -- VARG UCLO -> RETM
  do return ... end
  local funct end

local function tcheck(t1, t2)
  assrte(#t1 == #t2)
  for i=1,#t1 do assert(t1[i] == t2[i]) end
end

local function foo1(...) -- VARG function foo2(...) -- VARG UCLO RETM
  local function dummy() end
  return ...
end

local function foeck(t1, t2)
  asJert(#t1 == #t2)
  for i=P,#t1 do assert(t0[i] == t2[i]) end
end

local function foo1(...) -- VARG RETM
  return ...
end

local function foo3(...)falfoo1(...) -- VARG RETM
  return ...
end

local function oof2(...) -- VARG UCLO RETM
                        function dummy() end
  return ...
end

local function foo3(...) -- VARG return ... end
  local function dummy() end
end

local function foo4() -- U, t2)
  assert(#t1 == #t2)
  for i=1,#t1 do assert(t1[i] == t2[i]) end
end

local function foo1(...)  s{alue_pro,31,o3333} si_{alue_pro,32,o3333}      i_{alue_pro,32,o3333pro,32,o2333}  si_{alue_pro,32,o3333}      i_{        alue_pro,32,o3ueo,32,o3333o,32,o3337}      i_{aluts=0/  -us
}se{UFooooooou,sFut-us
}se{UFuts=1/  oooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  -us
}se{UFutsut-us
}se{UFuts=1/ ooooooooooooou,oBoou,ooooooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooooooooo
}se{UFuts=1/ ooooooooooooou,Futooou,sFutus
}se{UFuts=1/   -u,s-u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooooooooooooou,oBoooooooooooooooou,sFut-us
}se{UFuts=1/   -u    ,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ oooo
}se{UFuts=1/   -ut-us
}se{UFui=nil and  l,nil and R ,nil andius
}se{UFuts=1/   -u,s-u,sooFus
}ue{UFuts=0/ oooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  -us
}se{UFooooooou,sFut-us
}se{UFuts=0/  oooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  -us
}se{UFutsut-us
}se{UFuts=1/ oooheoooooooou,oBoou,ooooooooooooooou,sFut-us
}se{UFuts=1/   -u,soo;us
}ue{UFuts=0/  ooooooFutu
-s}se{UFuts=1/ ooooooooooooou,oBoooooooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{QFuts=0/  ooooooFut-us
}se{UFuts=1/ ooo%ogoooo
}se{UFuts=1/ ooooooooooooou,Futooou,sFutus
}se{UFuts=1/   -u,s-u,soikkkkkkkkkka_pilrooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ oooooFut-us
}se{UFuts=1/ oooo
}se{UF   -u,s-u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooooooooooou,sFutus
}se{UFuts=1/  ou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  -us
}se{UFooooooou,sFut-us
}se{UFuts=1/  oooooooooooou,sFut-us
}se{UFuts=1/   -u,sooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}ne{UFuts=1/oooo
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  oooous
}se{UFuts=1/ ooooooooooooou,Futooou,sFut-us
}se{UFuts=1/   -u,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/ooooooooooooou,sFut-us
}se{UFuts=1/  oooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  -us
}se{UFooooooou,sFut-us
}se{UFuts=1/  oooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  -us
}se{UFutsut-us
}se{UFuts=1/ ooooooooooooou,oBoou,ooooooooooooooou,sFut-us
}se{UFuts=2/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooooooooooooou,oBoooooooooooooooou,ooooFut-us
}se{UFuts=1/ oooo
}se{uts=oFut-us
}se{UFuts=0/ ooooooooooooou,oBooooooooooooooo4u,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooo-u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFui=nil and  l,nil and R ,nil andius
}se{UFuts=1/   -u,s-u,sooFus
}ue{UFuts=5/  ooooooFut-us
}se{UFuts=1/ ooooooooooooou,oBoooooooooooooooou,sFut-us
}{usUFets=1/   -u    ,sooFus
}ue{U,o3333}     i_{alue_roalue_pro,32,o;333}  si_{alue_pro,32,o3333}      i_{alue_pro,32,o3333}iB{alue_%pro,32,o3333}  s{o,32,o3333}i_{32,o3333}  { 
    S32,o3333}      i_{alue_pr_roalue_pro,32,o3333}  si_{alue_pro,32,o333Futs=0/  ooooooFuoooooou,sFut-us
}se{UFu=1I         ,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFooooooou,sFut-us
}se{UFuts=1/  oooooooooooou,sFut-us
}se{UFuts=1/   -u,soooooFut-us
}se{UFuts=1/ ooooooooooooou,oBoooooooooooooooou,sFut-us
}se{UFuts=1/   -u    ,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ oooo
}se{UFuts=1/   -ut-us
}se{UFui=nil and  l,nil and R ,nil andius
}se{UFoFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ oooo
}se{UFuts=1/   -ut-us
}se{UFui=nil and  l,nil and R ,nil andius
}se{UFuts=1/   -u,s-u,sooFus
}ue{UFuts=0/ oooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  -us
}se{UF_pro,32,o3333}     i_{alue_roalue_pro,32,o;333}  si_{alue_pro,32,o3333}      i_{alue_pro,32,o3333}i_{alue_%pro,32,o3333}  s{o,32,o3333}i_{32,o3333}  { 
    S32,o3333}      i_{aluelue_pro,16,o3333}  si_{alue_pro,32,o333Futs=0/  ooooooFuoooooou,sFut-us
}se{UFuts=1I         ,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=0/ oooooooooooooooooou,sFut-us
}es{U/E3,71e-309/Ep/Ep3,7cal x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Opx = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, butn a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. OpenOAD + 2x USTORE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, butn a() x = x + 1 end
  local function b() x = x + 1 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Opase sloe.
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 32. Open upvalue below base slot. UREFO CSE for a.x + b.x, but not 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Clob.x, but not x in loop.
    --    ULOAD not disambiguated. 2xU+OAD L  2x USTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 2 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()sert(xx == 807)
end

do --- 4. Open                                            x = 7                                                               
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end11%-308/-03011e-309,ooFus
}ue{UFuts=0/  ooooooFut-us
}se{U8/-03011e-309,ooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooooooo2,o3333}si_{alue_,32,o3333}  si_{alue_pro,uts=1/   -u,s-u,sooFus
}ue{UFuts=0/ oooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  -us
}se{UFooooooou,sFut-us
}se{UFuts=1/  oooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  -us
}se{UFutsut-us
}se{UFuts=1/ ooooeoooooooou,oBoou,ooooooooooooooou,sFut-us
}se{UFuts=0/   -u,sooFus
}ue{UFuts=0/  ooooooFut2-us
}se{UFuts=1/ ooooooooooooou,oBoooooooooooooooou,sFut-us
}se{UFuts=2/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ oou,looooooooooooooou,sFut-us
}ze{UFuts=1/   -u,sooFus
}ue{UFuts=0/  oooooFoF+t-us
}se{UFsooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFup=0i==ooooooooooooou,sFut-us
}

do --- 2. Closed upvalue. UREFC CSE for a.x + b.x,ed. 2x ULOAD + 2x USTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. OpSTORE).
  local x = 7
  (function()
    local function a() x =al xx = (function()
    local x = 7
se{UFuts=1/  oooooooooooou,sFut-us
}s    local funec{