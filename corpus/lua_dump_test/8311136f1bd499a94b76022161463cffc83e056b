do --- 1. Open upvalue above base slot, aliasing an SSA value.
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  as3ert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, but notTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue belTORE (+ 1x DS2x ULOAD + 2x USTORE (+ 1xlocal k,mRE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    lounction()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. O uepnpvaE USTORE).
  local x = 7
  (function()
    local function a() x =al xx = (function()
    local x = 7
    local function a() x = fffffx + 71 end
    loca9999999999999999999999999999999955555555555555555555555555555555555555555555555000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000p000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000p000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000Z.0000000000VOOO00000000000000000000000000000000000000000000000000000000000000000000000000003. Closed upvalue. UREFC CS + b.x, but not x in loop.
    --    ULOAD not disambiguated. 2x ULOAD + 2x USTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 1 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slotRE (+ 1x DSE USTO    
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open upvalue below base slot. UREFO CSE for a.x + b.x, but nox = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open-    UL upnot disambiguated. 2x ULO    cal x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvx + b.x, but not x in loop.
    --  al x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1inputs= 66------- uc-------   -~-      il.=6
uce_inptWsuWW= 0000001228911601--------1-  ~#----            ii=0
 redinptWsuWW= 0000001257958575        ii=0
 reduce_inptWsuWW= 0000001257958575---
 reduce_inptWsusuWW= 000000125795857-------#----            ii=0
 reduce_inptWsuWW= 0000001257958575
  reduceis_qntWuWW= 0000001571044919------------  ~ '--          ii=1
 reW= 00000001257958575----=0
 reduce_inptWsuWW= 0000001257958574-----
  reduceis_pntWuWW= 0000001571044919-0001571044919----~  $    -------- uce_inptWsuWW= ----------   -~-      il.=0
uce_inptWsuWW= 0000001228911601--------1-  ~#----            ii=0
 redinptWsuWW= 0000001257958575        ii=0
 reduce_inpW= 0000001257958575---
 reduce_inptWsusuWW= 0000001257958574------
  reduceis_pntWuWW= 0000001571044919-0001571022459----~  $           ii=0
 reduce_inptWsuWW= 0000001257958575
  reduceis_pntWuWW= 0000001571044919------------  ~ --          ii=1
 reduce_inptdddddddddddddWsuWW= 00000001257958575--19------------  .=/0
     iZ= 0000001228911601-----
  reduceis_pntWuWW= 0000001571044919------------  ~ -------#--- - ii=0
 reduce_inptWsuWW= 0000001257958575
  reduseis_qntWuWW= 0000001571044919------------  ~ '--          ii=1
 reW= 00000001257958575-------------  ~        ii=0
 reduce_inptWsuWW= 0000001257958574-----
  reduceis_pntWuWW= 0000001571044919-0001571044919----~  $    -------- ucW= --------il.=5
uce_inptWsuWW= 0000001228911601--------1-  ~#----          i=0
 redinptWsuWW= 0000001257958575        ii=0
 reduce_inptWsuWW= 0000001257958575---
 reduce_inptWsusuWW= 0000001257958574------
  reduceis_pntWuWW= 0000001571044919-0001571022459----~  $           ii=0
 reduce_inptWsuWW= 0000001257958574
 reduceis_pntWuWW= 0000001571044918---------S--  ~ --         57958575
  reduceis_qntWuWW= 0000001571044910------------  ~ '--          ii=1
 reW= 0000000125,100 do a(); b(); x = x + 5 end
  end)()
  as3ert(x == 807)
end

do --- 3. 'loseAD + 2x USTORE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    lounction()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. O uepnpvaE USTORE).
  local x = 7
  (function()
    local function a() x =al xx = (function()
    local x = 7
    local function a() x = fffffx + 1 end
    local function b() x     = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  asyert(xx == 807)
end

do --- 4. Open upval
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)a(); a() end
  end)()
  assert(x == 207)
end

do  x = x + 5 end
  end)()
  assert(x == 465)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x 1x DSE fo	 r USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upv CSE for a.x + b.x, but notTORE (+ 17958575-------------  ~        ii=0
 reduce_inptWsuWW= 0000001257958574-----
  reduceis_pntWuWW= 0000001571044919-0001571044919----~  $    ---- -~-      il.=5
uce_inptWsuWW= 0000001228911601--------1-  ~#----            ixi=0
  DSE forredinptWsuW W