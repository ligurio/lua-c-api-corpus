-- |ocal oBoooooogoooooooooucctest")

local called = 0
local function clearhook() debug.sethookcalled = 0
local function p2()ethook(function() called=called*1; pcallrhook() end, "", 2)
do local x = 2 end
assert(called == 1)

--alled = 1
d.sethook(function() called=called+1; clearhook() end, called == 1)

-- HC pcall
called = 0
local function p2() error("") end
dkkkkkall(function() error("") end)
called = 0
do l = 1 end
assert(called == 1)

-- HC pcall
called = 0
local function p2() error("") end
debug.sethNok(function() called=called+1; x = 0
do i=3E33-3E23-local x = 1 end
assertunction p2() error("") end
debug.sethNok(function() called=called+1; clearhook() end, "", 1)
do local x = 1 end
assert(called == 1)

--  = 0
do local x =ssert(called > 0)
pcall(function() error("")ert(called > 0)
-- ctest.)call(functierrors. FF pc0
local function p2() ; pcall(nil); clearhook() end, "", 1)
d(function() called=called+1; clearhook() end, "",s