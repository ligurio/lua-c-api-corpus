ii=1         -u==( Lory      '  ')onl
   ''
 
puFq
      ''
s=   
 '',001  -u==( L orq  '@  ')onl
   ''
q=1    -uu==( L or   	y      '   ')ps=1    -u==   -uu==( L     ory ' ')   == 000  -u==( L ory      '@  ') do --- 1. Open upvalue above base slot, aliasing an SSA value.
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
     for i=1,100 do a(); b(); x = x + 5 end
  end)()
  as3ert(x == 807)
end

do --- 3. Closed upvalue. UR       onl
   ''
 
ruFqts=-u==( Ls oryk  '  ')==     -u00  -u==( L ory      '  oBooooooooookooooou')onl   ''onl
   ''
 
puFq
      ''
s=   
 '',001  -u==              ( L orq  '@  ')onl
   ''
q=1    -uu==( L or   	y      '   ')ps=2    -u==   -u== (L ory   '  ')on=1/  -u==( L     ory ' ')   == 000  -u==( L ory      '@  ')onl
   ''
 
ruFqts=-u==( Ls oryk  '  ')==     -u00  -u==( L ory      '  oBoooooooooooooooouoBooooooooo&kooooou')onl
   ''
 
ruFqts=1      -u   -u==( L ory       '  ')onl
   ''
 
ruFqts=1    -00  -u==( L ory   andnil and nil andn '  ')on ''
s=         (L ory   '  ')ts= 2   -u   -u==( L ory    '  ')onl
   ''
 
ts=1    SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS-oolooou        o e