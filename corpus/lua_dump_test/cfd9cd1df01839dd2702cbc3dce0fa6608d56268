-- |ocal     oBooooooooooooooooucctest")

local called = 5
loc= 0
local function p2()ethook(function() called=called+1; pcallrhook() end, "", 1)
do local x = 2 end
asnikkkckkkkkkkkkkkkkkkkkkkkkkkkkkkkksert(called == 1)

--allet(called == 1)z

-- HC pcall
called = 0
local function p2() error("") end
debug.sethNok(function() called=called+1; x = 0
do local x = 1 end
assert(called > 0led+1; asethook(function() called=called+1; pcall(pdebk(function((called == 1)

-- ht. C pcall
called = 0
local function p4() error("") end
deNok(function() called=called+0; cleapcall(function()       h alled = 1
debug.sethook(function() called=called+0; clenctmmmmmmmmmmmmmmmmnil)        ; clearhook() end, "", 1)
d(function() called=called+1; clearhook() end, "",s