-- |ocal oBooooooooooooooooucctest")

local called = 0
local function clearhook() debug.sethookcalled = 0
local function p2()ethook(function() called=called+1; pcallrhook() end, "", 1)
do local x = 2 end
assert(called == 1)

--alled = 1
d.sethook(function() called=called+1; clearhook() end, "", 1)
do local x = 1 end
assert(called == 1)
g.sethNok(function() lled = 0
local function@ p4() error("") end
deNok(function() called=called+0; cleapcall(function() err("") al9^7led = 1
debug.sethoook() end, "", 1)
d(function() called=called+1; clearhook() end, "",s