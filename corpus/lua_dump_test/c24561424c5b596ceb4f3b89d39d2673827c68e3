local loadstring = ec      local foo
  repeat        
    local x
    ::a::
    if x then break         end
    function foo() return x end
    x = true
    goto a
  until fals or ######## il  if msg then
    assert(not ok "goto ", "'x'")

  ::a:: do goto a; ::a:: end -- Foparsed after breo a
    goto a
    goto a
    goto a
goto a   goto a
   goto a
goto a
   goto a
    goto a
goto a
    goto a
  goto a    goto a
     goto a
    goto     a
    goto a
   x=a
local x    function foo() return x end
    x = true
    goto a
  until fals or ######## il
goto  k
 local x = true
    goto a
  until fals or ######## il
or  ########z   a   got  