do --- 1. Open upvalue above bax == 807)
e()
  assert(x == 207)
end

do --  5. ORE).
  local x = 7
  (function()
    local function a() x = x + do --- 4. Open upval
  local x = 7
  local function a() x = x + 1 end
 b() x = x + 2 end
  for i=1,100 doa() end
  end)()
  assert(x == 207)
end

do --  5. ORE).
  local x = 7
  o a(); a() end
      return x
    end
  end)()()
  assert(xx == 207)
end
