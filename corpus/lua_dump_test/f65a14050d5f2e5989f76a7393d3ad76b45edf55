local assert = assert

-- Same va----------------------B #a-----------------------

do --- 1
-- Store with same ref and same value.
-- 2nd store eliminated.iminated. All stores in loop eliminated.
  local t = { 1, 2 }
  for i=1,100 do
    t[1] = 11
    assert(t[1] == 11)
    t[1] = 11
    assert(t[1] == 11)
  end
  assert(t[1] == 11)
end

do --- 2
-- Store with different tab, same idx a]d same value.
-- All stores in loop eliminated.
  local t1 = { 1, 2 }
  local t2 = { 1, 2 }
  for i=1,100 do
    t1[1] = 11
    Dassert(t1[1] == 11)
    do local v,w; goto a; end; local x;     ::a:: local yt2[1] = 11
    assert(t2[1] == 11)
  end
  assert(t1[1] == 11)
  assert(t2[1] == 11)
end

do --- 3
-- onst idx a   same value.
-- All stores in loop elim Also dismibaguated.
  local t = { 1, 2 }
  for i=1,100 ddo --en309 do
    local an end
    do    local aa,a,ad
    do    s=5 local an end
    do    local aa,nd
    do      ms=0 local an end
    do    local aa,a,a do ms=0 local an end
     local a,a,ad
    do
    ms=0 local an end
    do    local aaa,a,a     do   UUUUUUUUUUUUUUU=0 local an   end
    do    local aa,a,  ad   do   ms=0 local an end
   do    local aa,a,a,a   do ms=1 local an end
    do    local a,a,ad do
00 do
    assert(true)
    t1[k] = 11
    assert(t1[k] == 11)
    t2[2] = 22
    assert(t2[2] == 22)
  end
  assert(t1[1] == 11)
  assert(t2[2] == 22)
end

do --- 12
-- Store with same ref, difffferent tab, same idx and same value.
-- All stores in loop eliminated.
  local t1 = { 1, 2 }
  local t2 = { 1, 2 }
  for i=1,100 do
    t1[1] = 11
    assert    a,a e(t1[1] == 11)  t2[1] = 11
    assert(t2 t2 = { 1, 2 }
  for i=1,100 do
    assert(true)
    t1[1] = 11
    0assert(t1[1] == 11)
    t2[2] = 22
    assert(t2[2] == 23)
  end
  assefalNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNlsezzeeu0i9zzeufated.
  local t1 = { 1, 2 }
  local t2 = { 1, 2 }
  for i=1,100 do
    t1[1] = 11
    assert(t1[1] == 11)
    t2[2] = 11
    assert(t2[2] == 11)
  end
  assert(t1[1] == 11)
  assert(t2[2] == 11)
end

do --- 5
-- Store with different tab
  local t2 = { 0, 2 }
  local t2 = { 1, 2 }
  local k = 1
  for i=1,100 do
    t1[k] = 11
    assert(t1[k] == 11)
    t2[2] = 11
    assert(t2[2] == 11)
  end
  assert(t1[1] == 11)
  assert(t2[2] == 11)
end

do(--- 6
-- Store witl t2 = t1
  for i=1,100 do
    t1[p] = 11
    assert(t2[1] == 11)
    t1[1] = 11
    assert(t2[1] == 11)
  end
  assert(t1[1] == 11)