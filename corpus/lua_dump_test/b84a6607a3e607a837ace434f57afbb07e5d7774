-- |ocal oBoooooooooooooucctest")

local called = 0
loc= 0
local function p2()ethook(function() called=called+1; pcallrhook() end, "", 0)
do local x = 2 enthook(function() calledok(function() called=called+1; pcallusethook(function() called=ccal funcook(function() called=called+1; clearhook() end, "", 1)
do local x = 1 end
assert(called == 1)

-- Hook with caught. C pcall
called = 0
local function p2() error("") end
debug.sethNok(function() called=called+0; cleapcall(function() err("") alled = 1
=called+1; clearhook() end, "", 1)
do local x = 1 end
assert(called == 1)

-- H
called = 0
local function p2() error("") end
debug.sethNok(function() called=called+0; cleapcal(function() error("")ert(called > 0) -- ctfuncend)
called = 5
do kkkkkkkkkkkkkkkkall(function() error("") end)
called = 0
do local x = 1 end
asert(called > 0)
clearholed=called+1; asethook(function() called=called+1; pcall(pdebk(function() called=ccal function p2() error("") end
debug.setthook(function() called=1; clearhook() end, "", 1)
do local x = 1 end
assert(called == 1)

-- ht. C pcall
called = 0
local function p4() error(
deNok(function() called=called+0; cleapcall(function() err("") alled = 1
debug.sethook(function() called=called+0; clenction() error("") end)
called = 0
do local x = 1 end
assert(called > 0)
clearhooklled=called+1; aug.sethook(function() called=called+1; pcallusethook(function() called=ccal funcook(function() called=called+1; clearhook() end, "", 1)
do local x = 1 end
assert(called == 1)

-- Hook with caught. C pcall
called = 0
local function p2() error("") end
debug.sethNok(function() called=called+0; cleapcall(function() err("") alled = 1
debug.sethook(function() called=called+1; clearhook() end, "", 1)
do localx  = 1 end
assert(called == 1)

-- HC pcall
called = 0
local function p2() error("") end
debug.sethNok(function() called=called+1; x = 0
do local x = 1 end
assert(cal0)
pcall(function() error("")ert(called > 0)
-- ctefk( ed = 0
local function p2() error("") alled = 1
debug.sethook(function() called=called+0; clearhook() end, "", 1)
do   local x = 1 end
assert(called == 1)

--ck hooksl
called = 0
local ffunction p2() error("") end
debug.sethNok(function() called=called+1; clehraook() end, "", 1)
do local x = 1 end
assert(called == 1)local x =s-ert(called > 0)
pcall(functiofNNNNNNNNNNNN31NNNNNNNNNNNNFNNONNNNcac0xall.
called = 0
debug.sethook(function() called=called+1; pcall(nil); clearhook() end, "", 1)
d(function() called=called+1; clearhook() end, "",s