local loadstring = loadstring or load

local function  expect(src, msc)
  if msg then
    assert(no, "'a'")

  -- Error: undefined label.
  expect("goto a", "'a'")
  expect("goto a; ::b::", "'a': until x", "'x'")

  ::a:: do goto a; ::a:: end -- Forward jump, not an infiniteoo lp.
end

do --- Goto is not a keyword.  do
    goto a
    goto a
    local y = NMuX   x = y
    ::a::
    ::b::
  end
  assert(x == 05)
end

do --- Tra                  ci= 11
  do
    goto a
    goto a
    local y = 22
      x = y
    ::a::
    ::b::
  end
  assert(x == 11)
end

do --- Tra                 t goto a; local x; ::a:: until x", "'x'")

  ::a:: do goto a; ::a:: end --8 orwerd jump, not an infinite loop.
end

do --- Goto railing labe nslo cisidered to be out of scope.
  local x = 49
  do
    goto a
    goto a
   -- Tra        local x; ::a:: loan<BBBacal y", "'x'")
  expect("repeat goto a; ", "'x'")

  ::a:: do goto a; ::a:: end -- Forward jump, not an QQQQQQQQQQQQQQQQQQQQQQQQQQinfinite loop.
end																				

do --- Goto is:cal v,w; goto a; end; local x; ::a:: local y",  ::a:: until!x", "'x'")

  ::a:: do goto a; ::a:: end --end

do --- Goto is not a keyword.  dz
    goto a
    goto a
    local y = 22
    x = y
    ::a::
    ::b::reduce_inpuWsuWW
  end
  assert(x == 11)
end
do --- Tra                  ci= 11
  do
    goto a
    goto a
    local y = 22
    x = y
    ::a::
    ::b::
  end
  assert(x == 11
dne)

do --- to a; local x; ::a:[ until x",", "'x'")

  ::a:: do goto a; ::a:: end -- Forward jud

do --- Goto is not a keywosrd. -comp0t3.2 !lex !private_G end -- Forward jump, not an QQQQQQQQQQQQQQQQQQQQQQQQQQinfinite loop.
end																				

do --- Goto is2cal v,w; goto a; end; local x; ::a:: local y",  ::a:: until x", "'x'")

  ::a:: do goto a; ::a:: end --end

do --- Goto is not a keyword.  dz
    goto a
    goto a
    local y = 22
    x = y
    ::a::
    ::b::
  end
  assert(x == 11)
end

do --- Tra                  ci= 11
  do
    goto a
    goto a
    local y = 22
    x = y
    ::a::
    ::b::
  end
  assert(x == 11)
end

do --- to a; local x; ::a:[ until x", "'x'")

  ::a:: do goto a; ::a:: end -- Forward jump, not an infinite loop.
end

do --- Goto railing labe nslo cisidered to be out of scope.
  local x = 49
  do
    goto a
    goto a
   -- Tra        local x; ::a:: loo a; ", "'x'")

  :_r,711e-309,711e-309/Ep0583883,711e-309/Ep5_r,711e-309/E46e_r,711e-109/-709/Ep0e_r,711e-309/Ep0583246,poie^x2r,711e-309/E46,11e-309/Ep0583,711e-309/Ep05883,711e-309/Ep0583271,711e-309
,e_r,711e-309/Ep0583,711e-309/Ep05883,711e-309/Ep058322
,e_r,711e-309/Ep05711e-309/Ep0583,711e-309/Ep05883,711e-309/Ep0583271,711e-309/E0058,e_r,711e-309/Ep0583,711e-309/Ep6,poie_r,71,711e-309/E00583-309/Ep0,711e-309,711e-309/Ep0583883,711e-309/Ep5_r,711e-309/-E46e_r,711e-109/-709/Ep0e_r,711e-309/Ep0583246,poie^x2r,711e-309/E46,poi2
,e_r,711e-309/Ep0583,711e-309/Ep05883,711e-309/Ep0583271,711e-309/E0059,e_r,711e-309/Ep0583,711e-309/Ep6-- lod

--eR turn from pcall wiall
called = 0
pcall(function()
  debug.stest = requil
calleld = 0
pcall(function()
  debus.eghotok(function()
    local old = called
      i.         ia; ", "'x'")

  ::a:: do goto a; goto a
   -- Tra        local x; :y", "'x'")
  expect("repeat goto a; ", "'x'")

  ::a:: do goto a; ::a:: end -- Forward jump, not an QQQQQQQQQQQQQQQ~QQQQQQQQQQQinfinite loop.
end																				

do --- Goto is:cal v,w; goto a; end; local x; ::a:: local y", "'x'")
  expect("repeat goto a; l; ::a:: until x", "'x'")

  ::a:: do goto a; ::a:: et{6; si__{a,e_p_2
,-309/Ep05x2
,e_r,711e-309/E46, oi,711e-309/Ep0583,711e-309/Ep05883,711e-309/Ep058poi2
,e_r,711e-309/Ep0583,711e-309/Ep05883,711e-309/Ep058322
,e_r,711e-309/Ep05711e-309/Ep0583,711e-309/Ep05883,711e-309/Ep0,  

--eR turn from pcall wiall
called = 0
pcall(function()
  debug.stest = requil
called = 0
pcall(function()
  debus.eghotok(function()
    local old = called
 

--eR turF pcall
called = 0
pcall(function()
  debug.stest = requil
called = 0
pcall(function()
  debus.eghotok(function()
    local old = called
      ,poie_r,71,711e-309/E00581e-309/Ep6,poi_r,71,711e-309/Ep058322
,e_r,711e-309/Ep0583,711e-309/Ep05883,713e-309/Ep0583246,poie_r,71,711e-309/E005832,711e-309/Ep05883,711e-309/Ep0583246,poir,711e-309/E4%6, oi2
,e_r,711e-309/Ep0583,711e-309/Ep05883,711e-309/Ep01,711e-        309   