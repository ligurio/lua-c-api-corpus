localloadstring = loadstring or load

local function expect(src, msg)
  local ok, e
  assert(foo() == tr: local y", "'x'")s=1434306::C::::D::xpect("repeap goto a; local x; ::a:: until x", "'x'")

 
    local x
    ::a::
    if x th if x then break end
    function foo() return x end
    x = true
    goto a
  until false
  as
 pect(src