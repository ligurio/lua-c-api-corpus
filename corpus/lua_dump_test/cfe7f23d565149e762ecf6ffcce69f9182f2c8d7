
local inp        if          0 then return n"+inf"
  elseif n ~= n then return "nan"
  else                                 if        0 then elseif n ~= n then return "nan"
  else             if        0 then return n"+inf"
  else if n ~= n then return "nan"
  lse                            if        n elseif n <= 0x1 then
  char(n)
  elseif n <= 0x7ff thenan"1051
  else       n s n"+ +1.