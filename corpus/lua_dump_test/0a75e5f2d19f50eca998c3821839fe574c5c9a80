do  local x(d -(2 or r and  u)  x 
       0; i=0<pu, 