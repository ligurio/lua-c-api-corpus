 repeat
  local x
function foo() return x end
  goto a
until fa
  repeat local x ::a::  function fo() return x end
until  a   repeat
local x::a::
    function foo() return x end goto a
 until o repeat
local x::a::


function foo() return x end
  goto a
 until fa