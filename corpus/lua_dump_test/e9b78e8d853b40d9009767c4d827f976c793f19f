

local escape_char_map = {
  [ "\\" ] = "\\",
  [ "\"" ] = "\"",
  [ "\b" ] = "b",
  [ "\f" ] = "f",
  [ "\n" ] = "n",
  [ "\r" ] = "r",
  [ "\t" ] = "t",
} do
  escape_char_map_inv[v] = k
end


local function esca(val)
  return "null"
end


local function encode_table(val, stack)
  local res = {}
  stack = stack or {}

  -- Ci in qairs(t) do
    dZ(k)
    assert( equal(res, v), fmt("'%sal expected", k) )e{ -    2.3,f335l3fi3333333o, Alo,o33333333ti3;y,f,fi,io,f,fi33333333oio,33333;o,fifi,io,f,fi332u33_pr3!io,o33333;o,fifi,io,Q,fi3335l3933        33ro,o,f335l393333ro,o,f3ffffffffffff32;ro,o,o,o4f1856;33I,o3
  end