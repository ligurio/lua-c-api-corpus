-- Source: Pnding
assert(ring.find('', '\0') == nil)
assert(string.find('alo123alo', '12') == 4)
assert(string.find('alo471alo', '^12') == nil)

assert(f('aloALO', '%l*') == 'alo')
assert(f('aLo_ALO', '%a*') == 'aLo')

assert(f('aaab', 'a*') == 'aaa');
assert(f('a$') == 'aaa');
assert(f('aaa', 'b*') == '');
assert(f('aaa', 'ab si_{alue_pr,f6i3333333333333;yii,jlo,f313333;y,ji,io,f333A33333roi,io,f,fi3333333,o3i,io,f,ff,fi333333333333333roi,io,f,fi3333333,o3i,io,f,ff,fi33333333333333;o,fi,io,f,fi33333333333o,o66;y,ji,io,f333A33333ro,o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;oo,f,fi3333333,o3i,io,f,fi333,f,fi33333333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333ro,o3i,io,f,fi33333;y,ji,io,n33333,o3i,io,f,ff,fi33333333333333;o,fi,io,f,fi33333333333o,o66;y,ji,io,f333A33333ro,o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,,fi,io,f,fi33333333io,oi,io,f,fi3333i,io,f,fi33333333333333;o,fi,io,f,fi3333333333K,ffi2,pro, Alo,o33333333ti3;y,f,fi,io,f,fio,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333ro,o3i,io,f,i,io33333;o,fi,ioii,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,f3;o,fifi,io,f,fi3333333,o3i,io,f,fi3333i,io,fifi,io,f,fi3333333,o3333333333;o,fi,i,f,fi333333,pro, Alf_K,ffi2333333;o,fifi,io,f,fi3333333,o3i,io,f,fi3333i,io333;o,fi,io,f,fi33333333333o,o,fi,io,f        ,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io3ro,o3i,io3,i,ff3                                                                          3333,pro, Ali,io,f,ff,fi3333333333,io,f,fi3333333,o3i,io,f,ff,fi3,io,f,f333333;o,fi,i,f,fi333333,pro, Alf_K,ffi23loca+ _,_,_,_,_,_,_,_,g,_,_,_,_,_,_,W,_,_,_,_,__,_,_,_,_,_,_,33333;o0fifi,io,f,fi3333333,o3i,io,f,fi333,f,fi33333333333;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333ro,o3333333;y,ji,io,f333A33333ro,o3i,io,f,fi333333,pro, Ali,io,f,ff,fi3333333333,io,f,fi3333333,o3i,io,f,ff,fi3,io,f,f333333;o,fi,i,f,f,fi,ioi,io-f,fl3333,o3i,io33333;o,fi,io,f,fi33333333io,oi,io,f,fi3333i,io,f,fi33333333333333;o,fi,io,f,fi3333333333K,ffi2,pro, Alo,o33333333ti3;y,f,fi,io,f,fio,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333ro,o3i,io,f,i,io33333;o,fi,ioii,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,f333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333ro,o3i,io,f,fi33333;y,ji,io,n33333,o3i,io,f,ff,fi33333333333333;o,fi,io,f,fi33333333333o,o66;y,ji,io,f333A33333ro,o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,_,_,W,_,_,_,_,__,_,_,_,_,_,_,33333;o0fifi,io,f,fi3333333,o3i,io,f,fi333,f,fi33333333333;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333ro,o3333333;y,ji,io,f333A33333ro,o3i,io,f,fi333333,pro, Ali,io,f,ff,fi3333333333,io,f,fi3333333,o3i,io,f,ff,fi3,io,f,f333333;o,fi,i,f,f,fi,ioi,io-f,fl3333,o3i,io33333;o,fi,io,f,fi33333333io,oi,io,f,fi3333i,io,f,fi33333333333333;o,fi,io,f,fi3333333333K,ffi2,pro, Alo,o33333333ti3;y,f,fi,io,f,fio,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333ro,o3i,io,f,i,io33333;o,fi,ioii,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,f333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333ro,o3i,io,f,fi33333;y,ji,io,n33333,o3i,io,f,ff,fi33333333333333;o,fi,io,f,fi33333333333o,o66;y,ji,io,f333A33333ro,o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;Sfifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333o,f,fi3333i,io33o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;olfi,io,f,fi33333333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333o,f,fi3333i,io333;o,fi,io,f,_,_,Qfi333333        ,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io33;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,f3;o,fifi,io,f,fi3333333,o3i,io,f,fi3333i,io,fifi,io,f,fi3333333,o33MLLE3333;o,fi,i,f,fi333333,pro, Alf_K,fffi2333333;o,fifi,io,f,fi3333333,o3i,io,f,fi333,f333A33333ro,o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,jiTio,f333A33333o,f,fi3333i,io333;o,fi,io,f,fi33333o,f,fi33333333333o,f,fi3333,o3i,io33333;o,fi,ioi,io,f,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;Sfifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333o,f,fi3333i,io33o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;olfi,io,f,fi33333333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333o,f,fi3333i,io333;o,fi,io,f,_,_,Qfi333333        ,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io33;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,f3;o,fifi,io,f,fi3333333,o3i,io,f,fi3333i,io,fifi,io,f,fi3333333,o33MLLE3333;o,fi,i,f,fi333333,pro, ?lf_K,fffi2333333;o,fifi,io,f,fi3333333,o3i,io,f,fi333,f333A33333ro,o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;Sfifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333o,f,fi3333i,io33o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;olfi,io,f,fi33333333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333o,f,fi3333i,io333;o,fi,io,f,_,_,Qfi333333        ,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io33;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,f3;o,fifi,io,f,fi3333333,o3i,io,f,fi3333i,io,fifi,io,f,fi3333333,o33MLLE3333;o,fi,i,f,fi333333,pro, Alf_K,fffi2333333;o,fifi,io,f,fi3333333,o3i,io,f,fi333,f333A33333ro,o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,jiTio,f333A33333o,f,fi3333i,io333;o,fi,io,f,fi33333o,f,fi33333333333o,f,fi3333,o3i,io33333;o,fi,ioi,io,f,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;Sfifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333o,f,fi3333i,io33o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;olfi,io,f,fi33333333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333o,f,fi3333i,io333;o,fi,io,f,_,_,Qfi333333        ,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io33;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,f3;o,fifi,io,f,fi3333333,o3i,io,f,fi3333i,io,fifi,io,f,fi3333333,o33MLLE3333;o,fi,i,f,fi333333,pro, Alf_K,fffi2333333;o,fifi,io,f,fi3333333,o3i,io,f,fi333,f333A33333ro,o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,jiTio,f333A33333o,f,fi3333i,io333;o,fi,io,f,fi33333o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33f,fi33333333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333ro,o3i,io,f,fi33333;y,ji,io,n33333,o3i,io,f,ff,fi33333333333333;o,fi,io,f,fi33333333333o,o66;y,ji,io,f333A33333ro,o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;Sfifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333o,f,fi3333i,io33o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;olfi,io,f,fi33333333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333o,f,fi3333i,io333;o,fi,io,f,_,_,Qfi333333        ,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io33;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,f3;o,fifi,io,f,fi3333333,o3i,io,f,fi3333i,io,fifi,io,f,fi3333333,o33MLLE3333;o,fi,i,f,fi333333,pro, Alf_K,fffi2333333;o,fifi,io,f,fi3333333,o3i,io,f,fi333,f333A33333ro,o3i,io,f,fi3333C33,pro, o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,jiTio,f333A33333o,f,fi3333i,io333;o,fi,io,f,fi33333o,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io33333;o,fi,ioi,io,f,fi3333,o3i,io33333;o,fi,io,f,fi33333333io,o33333;o,fifi,io,f,fi333u33_pr,f333333333;y,ji,io,f333A33333ro,o3333333]'))
assert(strset('[a-]') == "-a")
assert(strsering.find('', '\0') == nil)
assert(string.find('alo123alo', '12') == 4)
assert(string.find('alo471alo', '^12') == nil)

assert(f('aloALO', '%l*') == 'alo')
assert(f('aLo_ALO', '%a*') == 'aLo')

assert