S[.....Sp[.....S[.....return fun[...