do --- 1. Open upvalue above base slot, aliasing an SSA value.
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open upvalue below base slot. UREFORE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  as3ert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, but notTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue belTORE (+ 1x DS2x ULOAD + 2x USTORE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    lounction()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. O uepnpvaE USTORE).
  local x = 7
  (function()
    local function a() x =al xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  asyert(xx == 807)
end

do --- 4. Open upval
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)a(); a() end
  end)()
  assert(x == 207)
end

do --  5. ORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, but not x in  USTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 1 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slotRE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, but. Forwa) x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open upvalue below base slot. UREFO CSE for a.x + b.x, but not + 2x USTORE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = #x + 1 end
    local function b() x = x + 4 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Cmbiguated. 2x ULOAD + 2x USTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Op.
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 465)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, but notTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slot. Forwarded. 1x USTORE (+ 1x DS2x ULOAD + 2x' STOR local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, but notTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slot. Forwarded. 1x USTORE (+ 1x DS2x ULOAD + 2x USTORE (+ 1x DSE USTORE) local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 3 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closedx == 807)
end

do --- 2. Open upvalue below base slot.on a() x = x + 1 end
  local         function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Opeb.x, but not x in loop.
    --    ULOAD not disambiguated. 2x ULOADlocal x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Close local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open upvalue below base slot. UREb.x, but notambiguated. . Open upvalue above base slot, aliasing an SSA value.
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open upvalue below base slot. UREFO CSE for a.x + b.x, but not x in loop.
    -- 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE    --    ULOARE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slot. Forwarded. 1x UST  E (+ 1x DS2x ULOAD + 2x USTORE (+7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, butn a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open upvalue below base slot. UREFO CSE for a.x + b.x, but nox = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Open-    UL upvalue below base slot. UREFO CSE for a.x + b.x, butii=1
i=1
se{UFuts=1/   -okkoovoooo.ooooFus
}ue{UFuts=0/  oooo/ oooou,sFut-us
}se{UFuts=2/   -u,sooFus
}ue{UFuts=0/  ooooooFut1us
}se{UFts=1/ ooooooooooou,oBooooooooooo-ooooou,sFut-
su}se{UFuts=1/   -u.sooFus
}ue{UFuts=0/Boooooooooooooooou,32,o3,n33}i_{alue_pro,32,o33}     i_{aluerouale_pro,32,r3333}  si_{leua_pro,32,o3333}      i_{alue_pro,32,o3333}i_{alue_p333}      i_{alue_pro,32,o3333}     i_{alue_prue_pro,32,o33-3}  is_{alue_pro,32,o3333}  {lue_proue_pro,18,o3333}     i_{alue32,}      i_{lue-pro,32,o3333}i_{alue_pro,32,o3333}  si_{ahue_pro,32,o33}  si_{alo3333}      il_a{ue_pro,32,o3333}i_{alue_pro,32,o3333}  si_{alue_pro,32,o333}  si_{o,32, 3333}I_{32,o3333}  {lue_pro,32,o3333lue_pro,32,o333luefi3333333333337333333333ose_pro,32,o3333}i_{alue_aerpl_uo,ue_pro,3333}    i_{malr,32,o3_=-232^alue_,78,o3333}  si_{alue33_,32,o3333}  si_{alue}  si_{alueB_pro,3333}      i_{aue_pro,3233}  {lue33}     i_{alue_ut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/      ooFut-us
}se{UFuts=1/ oooou,oBo,f6l=o3333331;ro,o,o,o4f1856;37I,o335l393333ro,o, x17, 25, x26, x2728, y29, x30, x31, x32, x33, x35, x36, x37, x38, x39, x40, x41, x42, x43, x44, x45, x46, x47, x48, x49, x50, x51, x52, x53ooou,sFut-us
}se{UFuts=1I         ,soout-us
}se{UFuooFus
}ue{UFutoooFut-usoou,sFut-usus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=0/ oooooooooooou,oBoooooooooou/   -u,sooFus
}ue{UFuts=0/  ooooo;Fut-us
}se{UFus
}se{UF=t1su/   -u,s-u,sooFus
}ue{UFuts=0/  oooooFut-us
}se{UFuts=1/ ooooooooou,-Ftusus
}{UFuts=1I         ,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{U.uts-ffffffffoogoooFut-us
}se{UFuts=1/ oooooooooooooooou,sFut-us
}sej{UFut
}uk{UFuts3333}i_{3,}  { 
    S32,o3333}      i_{alue_pro,lue_prpro,33,}      i_{alue_pro,32,o333s}_{alui=N or#4
or N
or elue_pr32,o1666o,32,o3333}     iO{alue_roalue_pro,32,no_pro,32,o3333}si_{alue_,32,o3333}  si_{alue_pto,32,o3333_,32,o3333}  si_{alue_pro,32,o3333}      i_{alue_pro_pro,32,o3333}  si_{alue_pro,32,o3333}  {lue_pro,3233}  {}     iY_{alue_roalue_pro,32,o3333}  si_{alue_pro,32,o333i=######-j<=3}     i=not2i- i_{alue_pro,32,o3333}i_{alue_pro,32,o3333}  si_{ahue_ue_pro,32,o3333}     i_{alue_roa>ue_pro,32,o_pro,31,o3334}si_{alue_,32,o3333}  si_{alue_pro,32,o3333_,32,o3333}si_{alue_pro,32,o3333}      i_{alue_pro,32,o3333}i_a{lue_pro,32,o1333}  si_{alue_lue_pro,3232}  {lue_pro,32,o3333}      i_{o,32,o332,o3333}      i_{alue_pro,32,o3333}     i_{alue_prpro,32,}      i_{aluue_pro,32,o3333}     i_{alue_rue_pro,32,lue333}      i_{alue_pro,32,o333_p32,o3333}  si_{alue_pro,32,o3333}  {        32,o3e_pro,32,o3333}i_{alue_pro,32,o36us
}se{UFuts=oooooomou,oBooooots=1/   -u,s-u,sooFFut-Zs
}se{UFuooou,oBoooooooooooooou,sFut-us
}se{UFuts=1I         ,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooooo
}se{UFutB=1/       -u,ozoFus
}ue{UFuts=0/  t-uS
}se{UFuts=1/oFut-us
}sd{UFuts=11/ ooooooooooooou/   -u,sooFus
}ue{ Futs=0/  ooooooFut-us
}se{UFuts=1/ oooooooooQ.QzQQQ.eQQ.Q.QQ.    QQ.Q.QQe[Q.Q.QQeQQ.QQQQQ.QQQQQQQ.AQzQQ.Q.QQeQQQQQ.QQQ.QQQQQ.Q.Q.QQQXQ.Q6d_QQQQQQ.Q.QQQ.QQ.QQQQQQQ.QQzQQQ.Q.eQoooooo.QQQQ.QQQQQQQQP-u  o() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slot. Forwarded. 1x USTORE (+ 1x DS2x ULOAD + 2x' STOR local x = 7
  (function()
    local functiond
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, but notTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slot. Forwarded. 1x USTORE (+ 1x DS2x ULOAD + 2x USTORE (+ 1x DSE USTORE) local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closedx == 807)
end

do --- 2. Open upvalue below base slot. UREFO CSEted. . Open upvalue above base slot, aliasing an SSA value.
  local x = 7
  local function a() x = x + 1 end
  local         function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --- 2. Opeb.x, but not x in loop.
    --    ULOAD not disambiguated. 2x ULOADlocal x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvaloop.
    --    ULOAD not disambiguated. 2x ULOAD + 2x USTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slot. Forwarded. 1x USTORE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x =al xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upval
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)a(); a() end
  end)()
  assert(x == 207)
end

do --  5. Closed upvalue. Forwarded. 1x USTORE (+ 1x DSE USTORE).
  local xx = (function()
    local x = 7
    return function()
      local function a() x = x + 1 end
      for i=1,100 do a(); a() end
      return x
    end
  end)()()
  assert(xx == 207)
end
