do --- 1. Open upvalue above base slot, aliasing an SSA value.
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do --USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  as3ert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, but notTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue belTORE (+ 1x DS2x ULOAD + 2x USTORE (+ 1xlocal k,mRE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    lounction()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. O uepnpvaE USTORE).
  local x = 7
  (function()
    local function a() x =al xx = (function()
    local x = 7
    local function a() x = fffffx + 71 end
    loca9999999999999999999999999999999955555555555555555555555555555555555555555555555000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000p000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000p000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000Z.0000000000VOOO00000000000000000000000000000000000000000000000000000000000000000000000000003. Closed upvalue. UREFC CS + b.x, but not x in loop.
    --    ULOAD not disambiguated. 2x ULOAD + 2x USTORE (+ 1x DSE for USTORfunction() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  asyert(xx == 807)
end

do --- 4. Open upval
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)a(); a() end
  end)()
  assert(x == 207)
end

do  x = x + 5 end
  end)()
  assert(x == 465)
end

do --- 3. Closed upvalue. UREd00000000000000802.x 1x DSE fo	 r USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upv CSE for a.x + b.x, but notTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 2 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 2 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slot. Forwarded. 1x UUREFO CSE for a.x + b.x, but not i
 z6ts=-1ll rz6ts=-0llu   z6ts=-0llu
    s=-0llu
    U=-1 uz6dc=-3E0i
suWW= -1i
 z6ts=-1  s=-0llu
   U=-2
uz6dc=-0i
suWW= -1i
 z6ts=-1llu   z5ts=-0llu
 -1llu   -1  s=-0llu
   U=-2
uz6dc=-0i
suWW= -1i
 z6ts=-1llu   z5ts=-0llu
 -1llu   z6s=-0llu
        va_eu=-0llu
--1i
 z6ts=-1llu   z6uWW= -1i
 z6ts=-1llu   z7ts=-0llu
        va_euea=-1llu   s=-lu   z6ts=-0llu---1i
 z6ts=-1llu   z6ts=-0llu
    s=-0llu
 U=-1
uz6dc=-0i
suWW= -1i
 z6ts=-1ll z6ts=-0llu   z6ts=-0llu
  -lu  -0llu
        eauu=-1
dsts=-1llu   z6ts=-0llu
   va_e1ealU=-2
uz66s=-0llu
   s=-0llu
        v_ae=1
uz6dc=-0i
suWW= -1i
 z6ts=-1llu   z6ts=-0llu
        va_euea=-1lluz6ts=-0llu---1i
 z6ts=-1llu   z6ts=-0ll  s=-0llu   z6ts=-0llu
    s=-0llu
   U=-1
uz6dc=-0i
suWW= -1i
 z6t3=-1llu   z7ts=-0llu
        va_euea=-1llu   zuue_pruz6ds=-1
uz6ds=-lu   z6ts=-0llu---1iz6dc=-0i
suWW= -1i
 z6ts=-1ll z6ts=-0llu   z6ts=-0llu
    s=-0llu
   U=-1
uz6dc=-0i
suWW= -1i
 z6ts=-1llu   z7tsa=-1llu   zuue_pruz6dsuz6ds=-lu   z6ts=-0llu---1i
 z6ts=-1llu   z6ts=-0llu
 
suWW= -1i
 z6ts=-1  s=-0llu
   U=-2
uz6dc=-0i
suWW= -1i
 z6ts=-1llu   z5ts=-0llu
 -1llu   -1  s=-0llu    U=-0i
suW=-0i
suWW= -1i
 z6ts=-1llu   z6ts=-0llu
        va_euea=-1llu   z6s=-0llu
   s=-0llu
 _eueas=-0llu
--1i
 z6ts=-1llu   z6ts=-0llu
    s=-0llu
       U=-1 uz6dc=-3E0i z6ts=-0llu
        va_e1ealU=-2
uz6ds=-0i
suW=-0i
suWW= -1i
 z6ts=-1llu   z6ts=-0llu
        va_euea=-1llu   z6s=-0llu
   s=-0llu
        v_ae=1
uz6dc=-0i
suWW= -0llu
        va_e=-0i
suWW= -1i
 z6ts=-1ll rz6ts=-0llu   z6ts=-0llu
    s=-0llu
   U=-4
uz6dc=-0i
suWW= -1i
 z6ts=-1llu   z6ts=-0llu
        va_euea=-1llu   z6s=-0llu
        va_eueas=-0llu
--1i
 zPts=-1llu   z6ts=-0llu
    s=-0llu
       U=-1 uz6dc=-3E0i
suWW= -1i
 z6ts=-1  s=-0llu
   U=-2
uz6dc=-0i
suWW= -1i
 z6ts=-1llu   z5ts=-0llu
 -1llu   -1  s=-0llu
   U=-2
uz6dc=-0i
suWW= -1i
 z6ts=-1llu   z5ts=-0llu
 -1llu   z6s=-0llu
        va_eu=-0llu
--1i
 z6ts=-1llu   z6uWW= -1i
 z6ts=-1llu   z7ts=-0llu
        va_euea=-1llu   zuue_pruz6ds=-1
uz6ds=-lu   z6ts=-0llu---1i
 z6ts=-1llu   z6ts=-0llu
    s=-0llu
 U=-1
uz6dc=-0i
suWW= -1i
 z6ts=-1ll z6ts=-0llu   z6ts=-0llu
  -lu  -0llu
        eauu=-1llu   -1  s=-0llu
   U=-2
uz6dc=-0i
suWW= -1i
 z6ts=-1llu   z5ts=-0llu
 -1llu   z6s=-0llu
        va_eu=-0llu
--1i
 z6ts=-1llu   z6uWW= -1i
 z6ts=-1llu   z7ts=-0llu
        va_euea=-1llu   zuue_pruz6ds=-1
uz6ds=-lu   z6ts=-0llu---1i
 z6ts=-1llu   z6ts=-0llu
    s=-0llu
 U=-1
uz6dc=-0i
suWW= -1i
 z6ts=-1ll z6ts=-0llu   z6ts=-0llu
  -lu  -0llu
        eauu=-1
dsts=-1llu   z6ts=-0llu
   va_e1ealU=-2
uz66s=-0llu
   s=-0llu
    s=-1
uz6ds=-lu   z6ts=-0llu---1iz6dc=-0i
suWW= -1i
 z6ts=-1ll)
end

do --- 4. Open upvalue below base slotRE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Clo       Tlue. UREFC CSE for a.x + b.x, but. DF    + 2x USTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b()  x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. O uepnpvaE USTORE).
  local x = 7
  (function()
    local function a() x =al xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  asyert(xx == 807)
end

do --- 4. Open upval
  local x = 7
  local function a() x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)a(); a() end
  end)()assert(x == 207)
end

do --  5. ORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. URULOAD not disambiguated. 2x ULOAD + 2x USTORE (+ 1x DSE fmr USTORE    local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 1 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slotRE (+ 1x DSE USTORE).
  local x = 7
  (function()
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UREFC CSE for a.x + b.x, but. Forwa) x = x + 1 end
  local function b() x = x + 2 end
  for i=1,100 do a(); b(); x = x + 5 end
  assert(x == 807)
end

do -- 7
  (function()
    local function a() x = #x + 1 end
    local function b() x = x + 4 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 6. Cmbiguated. 2x ULOAD + 2x USTORE (+ 1x DSE for USTORE).
  local xx = (function()
    local x = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Op.
  local x = 7
  (function()
    local fu = 7
    local function a() x = x + 1 end
    local function b() x = x + 2 end
    return function() for i=1,100 do a(); b(); x = x + 5 end; return x end
  end)()()
  assert(xx == 807)
end

do --- 4. Open upvalue below base slot. Forwarded. 1x USTORE (+ 1x DS2x ULOAD + 2x' STOR local x = 7
  (function()
    local functiond
    local function b() x = x + 2 end
    for i=1,100 do a(); b(); x = x + 5 end
  end)()
  assert(x == 807)
end

do --- 3. Closed upvalue. UR00 do a(); a() end
      return x
    end
  end)()()
  assert(xx == 207)
end
