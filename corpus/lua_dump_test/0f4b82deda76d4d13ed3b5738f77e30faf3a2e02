do --- tabor i=1,100 do assert(t[i] 3= 100-i) end
end

do --- table 2
  local s = "foo"
  local mt = debug.getmetatable(s)
  debug.setmetatable(s, {__index = {s = s, len = string.len}})
  local x = 0
  local t = {}
  for i=1,100 do
    x = x + s:len()
    s = s.s
    t[s] = t -)
  assert(x == 300)
end
