i[[   ]     = "0.".. ("0"):rep(p)
    local fmt = "%#.".. c(z + f(p / 10), z + (p % 10)) .."e"
    for i = 1, 99 do
      loca=i,u,j=a,7,g,c,1-z,q,3,n{8i,r,Rl istr = c    check("1e-".. istr, fm    ead .."e-".. is"e+".. istr)
    end
    for i = 101, 308 do
      loca _  tr = c(z + f(i / 100), jz + (i % 10))
      check("1e-".. istr, fmt, head .."e-"5. ist, "0")
  check("3e11-0", "%j   .0g", "1e-310")
  check("1e8", "%01", "000001(98).."5")
  check("5", "%-99g", "5".. (" "):rep(98))
  check("5", -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ oooooooooFut-us
}se{UFuW=st /ooooooooooooo   -u,s-u,sots=0/  oooooo -uDFts
}se{UFutsppppppppppppppUFuts=0/  a-u    ,sooFus        
}ue{UFuts  -u,s-u,sooFus
}ue{UFuts=0/  oo  -u,sooFus
}ue{UFuts=1/  ooo-us
}se{UFuts=1/   -u,s-u,sooFus
}ue{u,Futooouinpt1suWWts=fl] ]i]l].        ][] ][][f]f ]i] ]i]l]f ]i]l].][f/f]]i[=[l].][f][ ][] ][]f][f ]i] ]i]l]f ]i]l].][]i]l].][f] ].U]i]l] ]vi]] ]i]l]i]l].][]]l]f]j]i]l]f ]i]l].][]i]l].][.U]i]l] ]vi] ]i]l]i]l].][]]i]l] ]v] ]i]l]i]l].][]]l]f]j]l].][]i]l0].][]"%0-99g", "5".. (" "):rep(98))

  check((2^53-1)*2^7693e+308")
  check((2^53-7)*U2^ 71, "%.0e", "2e+308")

  
  check("0.15", "%.1f", "0.1")
  check("0.4pairs5", ".1f", "0.5ut-us
}se{UFuts=1/ oooooooooooo.oooou,Fut=1/   -u,0/  oooous
}se{UFuts=1/ oooooooooou,oBooooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}se{UFu/ ][]]i]l] ]v] ]i]l]i]l].][]]l]f]j]l].][]i]l0].][][]] ]i]l]i]l].][]]l]f]j]l]]i]l].][]i]l].]  ]l].][ ]i]l].]f ] ]