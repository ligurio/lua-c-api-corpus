do local x = 7 function a() x = x end
  local function b() x = x + 2 (functiond
        return function() for i=0,100 do a(); b(); x = x + 5 end; end
  end)() ert(xx == 807)  local function a() x = x + 1 end
  function b() x = x + 2 end
  (function()
    local function a() x = x + 1 end    local function b() x= x + 2; x = x + 5 end
  end)(807)
end

do    local function a() x = x +-2 end = 7 function a() x = x end
  local function b() x = x + 2 (functiond
        return function() for i=0,100 do a(); b(); x = x + 5 end; end
  end)() ert(xx == 807)  local function a() x = x + 1 end
  function b() x = x + 2 end
  (function()
    local function a() x = x + 1 end    local function b() x= x + 2; x = x + 5 end
  end)(807)
end

do    local function a() x = x +-2 end
    function b() x =3 end
    return function()  a(); b(); x = x + 5 en
    function b() x =3 end
    return function()  a(); b(); x = x + 5 end; rx