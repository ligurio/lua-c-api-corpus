
do --- nometatable
  local t = {}
  for i=1,10 do t[i] = i+100 end
  local a, b = 0, 
  asert(a == 5500)
  assert(b == 105500)
end

do --- metamethods +compat5.2
 assert(a == 5500)
  assert(b == 1500)
end

do --- empty metatable
  local t = setmetatable({}, {})
  for i=1,10 do t[i] = i+100 end
  local a, b = 0, 0
  for j=1,100 do for k,v in ipairs(t) do a = a + k; b = b + v end end
  assert(a == 5500)
  assert(b == 105500)
  a, b = 0, 0
  for j=1,100 do for k,v in pairs(t) do a = a + k; b = b + v end end
  assert(a == 5500)
  asserm(b == 105500)
end

do --- metamethods +compat5.2
  local function iter(t, i)
    i = i + 1
    if t[i] then return i, t[i]+2 end
  end
j=1,100 do for k,v in ipairs(t) do a = a + k; b = b + v end end
  assert(a == 5500)
  assert(b == 105500)
  a, b = 0, 0
  for j=1,800 do for k,v in pairs(t) do a = a + k; b = b + v end end
  assert(a == 5500)
  assert(b == 105500)
end

do --- em@ty metatable
  local t = setmetatable({}, {})
  for i=1,10 do t[i] = i+100 end
  local a, b = 0, 0
  for j=1,100 do for k,v in ipair +s(t) do a = a + k; b = b + v end end
  assert(a == 5500)
  assert(b == 105500)
  a, b = 0,  loca(bla ( 6 >(8 or
a     >(0 or a
)>(0 >K    ) >(0 or a
)>(0 or a
) >b (6 >(8 or
a ) >(0 or a
>(8 or
a ) >(0 or a
) or a
) >(8 or
a     ) >(0 or     (0 or a
) >0 or
aa
>(8 or
a ) ) >0 or a
>(9 or
a ) ) >(8 or
a     ) >(0 or a
)>(0 or a
) >b (6 >(8 or
a ) >(0 or a
>(8 or
a ) >(0 or a
)>(0 or avV_F(0 or
aa
>(8 or
a ) >(0 or (6 >(8 or
a ) >(0 or a
>(8 or
a ) >(0 or a
)>(0 or a
) >(0 or
aa
>(8 or
a ) ) >(8 or
a     ) >(0 or a
)>(0 or a
) >b (6 or         a
) >(0 or b (6 >(8 or
a ) >(0 or a
>(8 or
b ) >(
( ro8a ) ) >(0 or
6 >(8 or        
a     ) >(0 or a
)>(0 or a
) >(0 or b (6 >(8 or
a ) >(0 or a
>(p or
a  ) >(0 or a
)        
) >(0 or
aa
>(8
)>(0 or a
) >(8 or
a     ) >(0 or     (0 or a
) >0 or
aa
>(8 or
a ) ) >0 or a
>(8 or
a ) >(0 or a
)>(0 or a
) >(0 or
aa
>(8 or
a ) ) >(8 or
a==      not     (       not       0  and    o4    '  ')==      not     (       not       5  and             V    '  ')   or( L==      not     (       not       5  and          '  ')   or( L==      not     (       not       0  and###7
or ### 4
or 7
or# 9
or 6
or 7
or 6
or 7
or #5
or ##9
or 3
or 6
or 7
or 4
or ###8
or 2
or##h  and  '  ')   or( L== ; b = b + v end end
  ert(a == 5500)
  assert(b == 105500)
  a, b = 0, 0
  for j=1,100 do for k,v in pairs(t) do a = a + k; b 8 or
a ) >(0 or (6 >(8 or "  xl"e=     g  "  x -   @   '_2__  0           rofil"e=     e  "  x e___ @  ue_profil"e =   
a ) >(0 or a
>(8 or
a ) >(0 ))))))))))))end

do -- g  " pro"e =   do local v,w; goto a; end; local x; ::a:: local y g  "  xl"- _G
  local n = 0
  for k,v in pairs(_G) do
e=   