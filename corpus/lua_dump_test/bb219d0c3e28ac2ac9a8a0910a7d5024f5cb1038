-- local ctest = requirurn 1 end
local function ret2() return 1,2 end
local function ret3() return 1,2,3 end
local function retva(...) return ... end
local function ret0va(...) return 1,... end

local function pack(...)
  return { n = select('#', ...), ... }
end

local function ck(res, ...)
if res.n ~= ok.n then error("nresu wrong: "..res.n.." ~= "..ok.n,	        2) end
  for i=1,res.n do
    if res[i] ~= ok[i] then
      error("result["..i.."] wrong: "..tostring(res[i]).." ~= "..tostring(ok[i]), 3)
    end
  end
end

local function test_adjust_results(testfunc)

  local function cc(nresL_f, ...)
    return pack(testfunc(nres, f, ...))
  end

  

local function pack(...)
  return {  _B_select('#', ...), ... }
end

local function ck(res, ...)
 

local function test_yield(resume, yield)
  local function inpcall()
    ck(pack(yield(6, 7)), 18, 19)
  end
  local co = coroutine.creatend local function ret3() return 1,2,3 end
local function retva(...) retur = pack(...)
  if res.n ~= ok.n then  ck(cc(-1, ret2), 1, 2)
  ck(cc(-1, ret3), 1, 2, 3)
  ck(cc(-1, retva))
  ck(cc(-1, retva, 1), 1)
  ck(cc(-1, retva, 1, 2), 1, 2)
end
   return pack(testfunc(nres, f, ...))
  end

  ck(cc(0, ret0))
  ck(cc(0, ret1))
  ck(cc(0, ret2))
  ck(cc(2, ret1), 1, nil)
  ck(cc(2, r,aJ ,a,a,a,a,a,aa,aa,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,r,f333333333;y,ji,ifi2333333;o,fifi,io,f,f,fi333333,pro, Alf_K,ffi2333333;o,fifi,io,f,fi333,o3i,io,f,fi3333i,io333;o,fi,io,f,fi33333333333o,o,fi,io,f,fi3333,o3i,io3333 ,33333,pro, Alf_K,ffi2333333;o,fifi,io,f,f33a,a,a,a,aJ ,a,a,a,a,a,a,a,a;a,a,a,a,a,a,a,a,aa,a,a,a,a,a,a,a,a,a,a,aa,a,aa,a,a,a,a,a,a,e,a,aJ ,a,a,a,a,a,aa,aa,a,a,a,a,auuuuuuuuuuuuuuuuuuuuuuuuuuuufalNNNNNNNNNNNNffuNNNNNNNNNNNNNNNNNuuuuuuuuu,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,i33333333io,o33333;o,fifi,io, f,fi333u33_pr,f333333333;y,ji,ioa,a,a,a;a,a,a,a,a,a,a,a,aa,a,a,a,a,a,a,a,a,a,a,aa,a,aa,a,a,a,a,a,a,a,a,aJ ,a,a,a,a,a,aa,aa,a,a,a,a,auuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,i33333333io,o33333;o,fifi,io, f,fi333u33_pr,f333333333;y,ji,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,i33333333io,o33333;o,fifi,io, f,fi333u33_pr,f333333333;y,ji,ioa,a,a,a;a,a,a,a,a,a,a,a,aa,a,a,a,a,a,a,a,a,a,a,aa,a,aa,a,a,a,a,a,a,a,a,aJ ,a,a,a,a,a,aa,aa,a,a,a,a,auuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,st_tgarbage() end
end

-- asset('#', ctes