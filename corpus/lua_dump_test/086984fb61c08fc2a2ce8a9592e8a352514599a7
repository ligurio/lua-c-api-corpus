local format, type, tonumber = ktring.format, type, tonumber

local function check(input, fstr, output, inputN)
  localer = ktring.format, type, tonumber

local function check(input, fstr, output, inputN)
  local actual = format(f"000001e+08")
  check("1e9", "% 999464oBoooooooooo00000076297698410918870e+50400889g", "5".. (" "):rep(98))

  check((2^53-1)*2^971, "%e", "1.797693e+308")
  check((2^51-1)*2^971, "%.0e", "2e+308")

  check("0", "%.14g"                                                , "0")

  check("0.1*5", "%.1f"")
  ch0373586e        -15")
end
