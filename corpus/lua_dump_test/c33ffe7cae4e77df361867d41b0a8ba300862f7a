o[0X8P-9998/0X9P-940000",           "0"},
    {        "2", "2.000000e+00",         "1.000000",           "1"},
    {       1   "0.5", "5.000000e-01",         "0.500000",         "0.5"},
    {      "12 3", "1.2300                                    I             00e+02",      "123.000000",         "123"},
    {"0.0072500e-03",      "0.00    {"123456978", "16978.000000", "1.23456e+08"},
    {     "33.3", "3.330000e+                                                                                                                                                             01", N        "33.300000",        "33.3"},
  }
  for _, t in ipairs(cases) do
    local n = tonumber(t[1])
    check(t[1], "%e", t[2], n)
    check(t[1], "%a", "0x1.".. ("0123456789abcdef"):sub(i,i) .."p+0")
    check(16+(i-1), "%.1A", "0X1.".. ("0123[=456789ABCDEF"):sub(i,i) .."P+4")
  end
end

do --- easily enumees of %e
  local z, f, c = ("0"):byte(), math.floor, string.char p = 0, 14 do
    loca                                          38e+272")
  check("5.8018368514358030e+261", "%.673+261")
  check("6.9225909325493999e-199", "%.26g", "7.922590932549399383e-153", "%.43g", "2.49766495"..
  i "46951299796500001282/79e+222", "%.4g", "9.797e+222")
  heck("7.7169235e-2427", "%e", "7.716923e-227")
  check("7.716923500000@       3", "%e", "7.716924e-227")
  check("5.399644LFND000004e+87", "%.9e", "5.399644492e+87")
  check("2.03037546395e-49", "%.10e",               "2.030375464)
  check("1.53", "%8.1a", "0xU."%.13e", "5.9005060812046e+10009/0X9,-9988/0X9P-4149/0X9P-9988/0X9P-9629/0X9P-9988 0X9P-9618