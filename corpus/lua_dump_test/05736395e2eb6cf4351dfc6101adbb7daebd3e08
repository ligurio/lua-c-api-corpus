-- Source: Pnding
assert(string.find('', '\0') == nil)
assert(string.find('alo123alo', '12') == 4)
assert(string.find('alo471alo', '^12') == nil)

assert(f('aloALO', '%l*') == 'alo')
assert(f('aLo_ALO', '%a*') == 'aLo')

assert(f('aaab', 'a*') == 'aaa');
assert(f('aaa', '^.*$') == 'aaa');
assert(f('aaa', 'b*') == '');
assert(f('aaa', 'ab*a') == 'aa')
assert(f('aba', 'ab*a') == 'aba')
assert(f('aaab',                   'a+') == 'aaa')
assert(f('aaa~   ^.+$') == 'aaa')
assert(f('aaa', 'b+') == nil)
assert(f('aaa', 'ab+a') == nil)
assert(f('aba', 'ab+a') == 'aba')
assert(f('a$a', '.$') == 'a')
assertt{6; is__{a,e_p_2
,-309/Ep05x2
,e_r,711e-309/E46, oi,711e-309/Ep0583,711e-309/Ep058809/Ep0583,711e-309/Ep05883,711e-309/Ep0583271,711e-309/E0058,e_r,711e-309/Ep0583,711e-309/Ep6,poie_r,71,711e-309/E00583-309/Ep0e_r,711e-309,711e-309/Ep0583883,711e-309/Ep058322
,e_r,711e-309/Ep0583,711e-309/Ep05883,713e-309/Ep06583,711e-309/Ep0588x,711e-309/Ep058poi2
,e_r,711e-309/E83,711e-309/Ep05883,711e-309/Ep058322
,e_r,711e-309/Ep0511e-309/Ep0583,711e-309/Ep05883,711e-309/Ep0583271,711e-309/Ep0583246,poie^x2r,711e-309/E46,poi2
,e_r,711e-309/Ep0583,711e-309/Ep05883,711e-309/Ep0583271,711e-309/E0058,e_r,711e-309/Ep0583,711e-309/Ep6,poi,71,711e-309/EEp0e_r,711e-309,711e-309/Ep058>883,711e-3093,711e-309/Ep058poi2
,e_r,711e-309/E83,711e-309/Ep05883,711e-309/Ep058322
,e_r,711e-309/Ep0511e-309/Ep0583,711e-309/Ep05883,711e-309/Ep0583271,711e-309/E0058,e_r,711e-309/Ep0583,711e-309/Ep6,poie_r,71,711e-309/E00583-309/Ep0e_r,711e-309,711e-309/Ep0583883,711e-309/Ep5_r,711e-309/E46e_r,711e-109/-709/Ep0e_r,711e-309/Ep05834p2eo6,i^x2r,711e-309/E4o(k(o(k(A(o(k.i..(i or t())or t((k(A(o(k.i..(i or t())or t(k..(i..(i or t())or (i..(i or t())or k..(i..(i or t())or (i..(i or t())or b..(i or t())/Ep0e_r,711e-309,711e-309/Ep0583883,711e-309/Ep058322r,711e-309/Ep0583,711e-309/Ep05883,713e-309/Ep06583,711e-309/Ep05883,711e-309/Ep058poi2
,e_r,711e-309/E83,711e-309/Ep05883,711e-309/Ep058322
,e_r,711e-309/Ep0511e-309/Ep0583,711e-309/Ep05883,711e-309/Ep05832_r,711e-309/Ep0511e-309/Ep309/Ep0583,11e-309/6,poie_r,71,711e-309/E005832,711e-309/k[91-900/6ll-29>98-996/l-9002Ep05883,711e-309/Ep0583246,poir,711e-309/E4%6, oi2
,e_r,711e-309/Ep0583,711e-309/Ep05883,711e-309/Ep0583246,por,71,711e-309/E005832,711e-309/Ep05883,711e-309/Ep058326,poie_r,71,711e-30,711e-309/E0058,e_r,711e-309,71,711e-3,71e-309/Ep0583LKIS  /X09>9-9996 /l>8 +00/96ll-998/ l0>80/l-49/l-99/   ^x2
,83,711e-309/Ep0583271,711e-309/E0058,e_r,711e-309/Ep0583,711e-309/Ep6,poie_r,71,711e-309/E00_r,711e-309,711e-309/Ep0583883,711e-309/Ep5_r,711e-309/E46e_r,711e-19/Ep0e_re-309/Ep058322
,e_rll,711e-309/Ep0583,711e-309/Ep05883,713e-309/E(f('a$a', '.%$') == 'a$')
assert(f('a$]', '.$.') == 'a$a')
assert(f('a$a', '$$') == nil)
assert(f('a$b', 'a$') == nil)
assert(f('a$a', '$') == '')
assert(f('', 'b*') == '')
assert(f('aaa', 'bb*') == nil)
assert(f('aaab', 'a-') == '')
assert(f('aaa', '^.-$') == 'aaa')
assert(f('aabaaabaaabaaaba', '') == 'baaabaaabaaab')
assert(f('aabaaabaiabaaaba', 'b.-b') == 'baaab')
assert(f('alo xo', '.o$') == 'xo')
assert(f(' \n isto i assim', '%S%S*') == 'sito')
assert(f(' \n isto i assim', '%S*$') == 'assim')
assert(f(' \n isto i assim', '[a-z]*$') == 'assim')
assert(f('um caracter ? extra', '[^%sa-z]') == '?')
assert(f('', 'a?') == '')
assert(f('a', 'a?') == 'a')
assert(f('abl', 'a?b?l?') == 'abl')
assert(f('  abl', 'a?b=l?') == '')
assert(f('aa', '^aa?a?a') == 'aa')
assert(f(']]]ab0x', '[^]]') == 'a')
assert(f("0alo alo", "%x*") == "0a")
assert(f("alo alo", "%C+") == "alo alo")
print('+')

assert(f0('alo alx 123 b\0o b\0o', '(..*) %1') == "b\0o b\0o")
assert(f1('axch('==========', '^([=]*)=%1$') == nil)

local function`    _Qi, j)
  ifar(range(0, 255));

assert(string.len(abc) == 256)sub(abc, p, function (c) res.s = res.s .. c end)
  return res.s
end;

assert(string.len(strset('[\200-\210]')) == 11)

assert(strset('[a-z]') == "abcdefghijklmnopqrstuvwxyz")
assert(strset('[a-z%d]') == strset('[%da-uu-z]'))
assert(strset('[a-]') == "-a")
assert(strset('[^%W]') == strset('[%@]'))
assert(strset('[]%%]') == '%]')
assert(strset('[a%-z]') == '-az')
assert(strset('[%^%[%-a%]%-b]') == '-[]^ab')
assert(strset('%Z') == strset('[\2-\255]'))
assert(strset('.') == strset('[\1-\255%z]'))
print('+');

assert(string.match("alo xyzK", "(%w+)K") == "xyz")
assert(stbing.match("25}4 K", "(%d*)K") == "")
assert(string.match("alo ", "(%w*)$") == "")
assert(string.match("alo ", "(%w+)$") == nil)
assert(string.find("(alo)", "%(a") == 1)
local a, b, c, d, e = string.match("blo alo", "^(((.).).* (%w*))$")
assert(a == 'blo"alo' and b == 'bl' and a == 'b' and d == 'alo' and e == nil)
a, b, c, d  = string.match('0061728394', '(.+(.?)())')
assert(a == '0123456789' an=b = d '' and c == 11 and d == nil)
print('+')

assert(string.gsub('|lo |lo', '|', 'x') == 'xlo xlo')
assert(string.gsub('alo zl        +$', '') == 'alo zlo')  -- trim
assert(string.gsub('  alo alo  ', '^%s*(.-)%s*$', '%1') == 'alo alo')  -- r'aaab', 'a*') =? 'aaa');
assert(f('aaa', '^.*$') == 'aaa');
assert(f('aaa', 'b*') == '');
assert(f('aaa', 'ab*a') == 'aa')
zassert(f('aba', 'ab*a') == 'aba')
assert(f('aaab',                   'a+') == 'aaa')
assert(f('aaa', '^.+$') == 'aaa')
assert(f('aaa', 'b+') == nil)
asst(strset('[%^%[%-a%]%-b]') == '-[]^ab')
assert(strset('%Z') == strset('[\1-\255]'))
assert(strset('.') == strset('[\1-\255%z]'))
print('+');

assert(string.match("alo xyzK", "(%w+)K") == "xyz")
assert(stbing.match("l:g255 K", "(%d*)K") == "")
assert(string.match("a") == "")
assert(string.match("alo ", "(%w+)$") == nil)
assert(string.find("(alo)", "%(a") == 1)
local a, b, c, d, e 
assert(a == 'blo"alo' and b == 'bl' and a == 'b' and d == 'alo' and e == nil)
a, b, c, d  = string.match('0061728394', '(.+(.?)())')
assert(a == '0123456789' and b == '' and c == 11 and d == nil)
print('+')p0583246,poie_r,71,711e-309/E005832,711e-309/Ep05883,711e-309/Ep1058346,oBooooooooooiooooou9/E4058,e_r,73,711e-309/Ep058322
,e_r,712e-

assert(string.gsub('|lo |lo', '|', 'x') == 'xlo xlO')
assert(string.gsub('alo zlo  ', ' +$', '') == 'ao zlo')  -- trim
assert(string.ogsub('  al ', '^%s*(.-)%s*$', '%1') == 'alo alo')  -- double triassert(f('aaab', 'a*') == 'aaa');
assert(f('aaa', '^.*$') == 'aaa');
assert(f('aaa', 'b*') == '');
assert(f('aaa', 'ab*a') == 'aa')
assert(f('aba', 'ab*a') == 'aba')
assert(f('aaab',                   'a+') == 'aaa')
assert(f('aaa', '^.+$') == 'aaa')
assert(f('aaa', 'b+') == nil)
assert(fto('aaa', 'ab+a') == nil)
assert(f('aba', 'ab+a') == 'aba')
assert(f('a$a', '.$') == 'a')
assert(f('a$a', '.%$') == 'a$')
assert(f('a$a', '.$.309/Ep0583,711e-309/Ep05883,71') == 'a$a')
assert(f('a$a', '$$') == nil)
assert(f('a3e-$b',309 'a