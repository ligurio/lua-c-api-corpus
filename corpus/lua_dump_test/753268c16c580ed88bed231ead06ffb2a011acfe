

local escape_char_map = {
  [ "\\" ] = "\\",
  [ "\"" ] = "\"",
  [ "\b" ] = "b",
  [ "\f" ] = "f",
  [ "\n" ] = "n",
  [ "\r" ] = "r",
  [ "" ] = "t",
}

local nv = { [ "/" ] = "/" }
for k, v in pnext(encape._char_map) do
  escape_map_invrn "null"
end


local functi 
 encodee(val, stack)
  local res = {}
  stack = sat cokR {}

  -- Circular idx, idx)
  local f = char_func_maion()
    fint( fmt("[pass] %s", name) , function()
  local t = {
  [ "032.456"       ] = 123.456,
    [ "-123"       ] = -1276.3,5,
    [ "12.0"          ] = 12.3,
    0010.000000,
  }
  for k, v in pairs(t) do
    loecode(o)
    assert( res == v, fmt("expected or", v) )
  end
end)


test("deape", function()
  local t = {
    [ [["
    [ [["\r\n\\\[["\/"'/',
    [ [["\\u \u263a"]]  ] = [[\u b :]],
Zli       { -us
}se{UFuts=0/   us
}se{UFs=s
}se{Uus
}se{F  -u33,o3333}i_{alue_al_pryro,32,3}      I_{mals=1/ oooo,szoFus
}ue{UFuts=0/Fus
}ue{UFuts=0/  on
}se{UFutlocas=1/  sooFus
}ue{Futs=0}se{UFzts=1/ooFus
}ues{UFuts=0/  ooooooF}se{UFzuts=1/ uUs
}s{eFzts=1/ ooFus
}ue{UFuts=0/  ooo-us
}se{UFuts=-us
}se{U0=1/  oo-oFus
}Ae{UFuts=0/  oFtus-u
}se{UFuts= o32,o3333}      i_{alue_pro,42,o33}     i_{alro,16,r3333}  si_{leua    ,32,oe,o37}i_{alup,32,o3o333 ,7,{63,{{98,7,{7,{{0X9b  }
  for k, v in pairs(t) do
    local res = j       f98fbfffP-3,{7,w{{ikkk,{7,{6, 7,{{9,nikkkkkkkkk{{9  ,7,{7,{3,     Y{_<{99,{ 4,{{9,{_ (l)<(oore' '),5,{{{99,7,{4,{{rk{{9 ,7,{63,{{98,{3,  {{2,T,{ _>_<(lore'')<99,7,{4,{{9,{_< (l{{99,7,{4,{{9,{63,{{99,{ k11kkkkkkkk{{7,{7,{3,  {{2,T,73,{{7,{7,{3,{7,{{9,nikkkkikkk,{7,{3,{7,{{8,{3,  {{2,T,{ _>_<(lore'')<99,7,{4,{{9,{_< (l{{99,7,{4,{{9,{63,{{99,{ k11kkkkkkkk{{7,{7,{3,  {{+,T,73,{{7,{7,{3,{7,{{9,nikkkkikkk,{7,{3,{7,{{krk{{9 ,7,{63,{{98,7,{7,{3,{7,w{{ikkk,{7,{6,{7,{{9,nikkkkkkkkkz{9  ,7,{7,{3,    de(k)
    aser  Y{_< (l)<(oore' '),4,{{9,7,{4, {{9,3,{{{ kkk:kkkkk{{7,{7,{3,  {{2,T,{ _>_<(l ore'')<9t( res == v, fmt("expected '%s', got '%s'", e 9rs v,))
  end
end)


test("d4code empty", function()
  local t = {
    [ '                 , 7,