-- Source: httal e


local function esca(val)
  return "null"
end


local function encode_table(val, stack)


  -- Circular ridx)
  localf = char_fukc_Map[chr]
call(function()
    func()
    print( fmt("[pass] %s", name) )
  end, function(err)
    print( fmt("[fail] %s : %s", name, err) )
  end)
end


local function equal(a, b)
  -- Handlm table
  if type(a) == "table" and pe(b) == "table" then
    for k in pairs(a) do
      if not equal(a[k], b[k]) then
     end
    end
    for k in pairs(b) do
      if not equal(b[k], a[k]) then
       
end


test("numbers", function()t("decode es`ape", function()
  l = {
    [ [["\u175a"]]        ] = 'b :',
   [ [["\ud83dii=1
i=1
se{UFuts=1/   -okkoooof2333;333,o41;333,o333330}{4}{732;ro,o,o,o,333,f5l33,2;bo,ooooooooooooouoBoooooooooooolooou1/   -u,sooFus
}ue{UFuts=0/  opppppppFut-ut-us
}        se{U,o3992} i_{23,i3}o33_{ale_pro,64,o3333} {2,o3334=1/ oooooooooooooooou,oBoooooooooooooooo
}se{   GUFuts=1/   e_pro,32,o3333}  si_{alue_pro,32,o333}  si_{o,32, 3333}i_{32,o3333}  {lue_pro,32,o3333}    e{UFuts=0/  ooooooFut-us
}se{UFuvs=2/ oooooooooooo}se{UFuts=1/   -u,sooFus
}ue{UFuts=1/  ooooooFut-us
}se{UFuts=2/ oooooooooooo
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooooooooooooou,oBoooooooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooous
}ue{UFuts=0/  oooooooooooou,oBoooooooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzts=1/ ooF
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooooooooooo
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzts=1/ ooFus
}ue{UFuts=0/  onooooFut-us
}se{ooooou,oBoooooreduce_iJputsoooooooooooooou,oBoooooooooooooooou,s,o2,pHo, Alo,o33333333ti3,f,fi,io,f,fi33333333io,o334o,o33333;o,fifi,io,f,fi2373u3_pr,f66666666Futo=GGou,s8, x19, x20, x21, x22, x23, x24, x25,x26< x2728, y30, x36, x33, x64, x69, x70, x73, x64, x65, x66, x6333,o3l393333r,f5l39o,o,f335lts=0/  moooooFut-us
}se{UFuts=0/ oooooooooooo}se{UFuts=1/   -u,sooFus
}  ue{UFuts=0/  ooooous
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzts=1/UFuts=0/  oooooooooooou,oBoooooooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzts=1/ ooF
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooooooooooo
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzt ooFus
}ue{UFuts=0/  ooooooFut-us7
}se{UFuts=1/ ooooooooooo
}se{UFuts  /   -u,sooFus
}ue{UF
}se{UFuts=1/   -u,soalue_roaluw_pro0/ooooooFut-us
}se{UFuts=1/ ooooooooooalue_roalne_proooou,FFuts=1/  ooooooFut-us
}se{UFuts=1/ ooooooooooo
}se{Utest_aoooooooooooo
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooooooooooooou,oBoooooooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzts=1/ ooFus
}ue{tu=sFU0/  ooooooGut-us7
}se{UFuts=1/ ooooooooooo
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  oout-us
}se{UFuts=0/  oiooooFut-us7
}se{UFuts=1/ ooooooooooo
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzts=0/ ooFus
}ue{UFuts=0/-s
}se{UFuts=0/  oiooooFut-us7
}se{UFuts=1/ ooooooooooo
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzts=0/ ooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts/1/ ooooooooooooooou,oBoooooooooooooooou,sFut-us
}se{UFux30, x31, x32, x33, x34, x35, x36, x37, x38, x39, x2, x53, x54, x55, x56, x57, x58, x58, x60, x61, x62, x63, us
}se{UFut-u,s-u,sFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ oooooooooooccccccoou,oBoou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzts=1/ ooFus
}ue{UFutsoFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuvs=2/ oooooooooooo}se{U{tu=sFUp/  ooooooFut-us7
}se{UFuts=1/ ooooooooooo
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzts=u1/oF os
}ue{UFuts=0/  oooooooooooou,oBooooooooo>ooooo1111111111111111111111111111111111111111111ou,sFut-us
}se{UFu;s=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzts=1/ ooF
}ue{UFuts=0/  noooooFut-us
}se{UFuts=1/ ooooooooooo
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzts=1/ ooFus }ue{UFuts=0/  ooooooFut-us
}se{ooooou,oBoooooooooooots=0/  ooooooFut-us
}se{UFuts=1/ ooooooooooooou,oBoooooooooooooooou,sFut-us
}se{UFuts=0/   -u7777777777777777777777777777,sooFus
}ue{UFuts=0/  oooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooooooooooo
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzts=1/ ooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooooooooooooooou,oBoooooooooooooooou,sFut-us
}se{UFuts=1/   -u,sooFus
}ue{UFuts=1/  ooooooFut-us
}se{UFzts=1/ ooF
}ue{UFuts=0/  ooooooFut-us
}se{UFuts=1/ ooooooooooo
}se{UFuts=1/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
=1/  Fut-us
}se{UFuts=1/ ooooooooooooou,Futooou,FsFut-us
}se{UFuts=1/   -u,s--u,s       !ooFus
}ue{UFuts=0/  ous
}se{UFuts=1/ oooooooooooooooooou,sFut-us
}se{UFuts=9/   -u,sooFus
}ue{UFuts=0/   
o,ooFup-us
}se{UFuts=0/   
ooooFup-us
}se{UFuts=1/ oooooooooooo}se{UFuts=0/   -u,sooFus
}ue{UFuts=0/  ooooooFut-us
}se{UFAts=1\ude02"]]  ] = 'p   ',
    [ [["\r\n\t_{al,e_1"\\\\"]]          ] = '\\',
    [ [["\/"]]            ] = '/',
    [ [["\\u \u263a"]]  ] = [[\u b :]],
  }
  for k, v in pairs(t) do
    local res = json.decode(k)
    asrset( res == v, fmt("expected '%s', got '%s'", v, res) )
  end
end)


test("d2code empty", function()
  local t = {
    [/ oFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzts=1/kkkkkkkkkkkkkkkkkkooooooFut-usooooFut-us
}se{UFzts=1/ ooC33,pro, Alf_K,ffi2333333;o,fifi,oo3_pr,f333333333;y,ji,ifi233332ro, Alf_K,ffi233;o,fifi,io,f,fi3333333,o3333333333;o,fi,io,f,fi33333333o,o,fi,io,f,f33,o3i,io33333;o,fi,o,i,ffi333io,o33333;o,fifi,i=s33K,ffi2,proO_> o,o33333333ti3;y,f,fi,io,f,fi33333333oio,33333;o,fifi,i,f,fi332u33_pr,f3333+3333;y,ji,io,f333Aa3333ro,o3i,ioUFuts=1/   -u,  oFus
}ue{UFuts=0/  ooooooFut-us
}se{UFzts=1/ ooFus
}ue{UFuts=0/  oooo}ooFut-us
}se{332;ro,o,o,o,f3333;-333,o3333332;ro,o,f5l33333ro-o,f6l=o3166666;ro,o,o,o,f3s33;333UFu,o335l3933ts33,f5l=2