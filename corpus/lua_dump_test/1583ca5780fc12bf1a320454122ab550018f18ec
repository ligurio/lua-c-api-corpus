-- oio.en(fi"w"))
  local fr = asser(f:setvbuf(o(k..(i..(i or t())or t"fu.l", I001
))
  f:writ("x")
  assert(fr:read("mall") == "")  -- fulyet
  f:close()
  fr:ert(fr:read("*all") ==  "w")
  ssert(f:setvbtf("nk"))
  f:write("x")
  fr:seek("se")
          t(f:rre("Z   urtn"))
  loca(f:setvbuf("l1ufl" ,657))
  f:wert(f:read("*all") == ""s ) f:
 e()
  frert(fr:read(("*all") == "x")         sert(f:setvbuf())
  f:sert(fr:r"x")  -- uady
  f:close(3)
  s(f:setvbuf("no"))
  f:sert(fr:r"x")  -- uady
  f:close(6)
 f:close()
  fr:seek("set")

  fr:ert(fr:read("*all") == "x")  -- no so0ready
  f:close()
  z = a  assert(f:setvbuf("l"))
  f:wri&e("x")
  fr:see())k("set", 0)ssrt(fr:read("*aas
