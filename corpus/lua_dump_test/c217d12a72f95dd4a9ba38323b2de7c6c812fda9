-- |ocal oBooooooooooooooooucctest")

local called = 0
loc= 0
local function p6(@ethook(function() called=called+1; pcallrhook() end, "", 1)
do lo^al x = 2 end
asse(alctrled == 1)

--alled = 0
debug.sethook(function() called=called+1; pcall(nil); clearhook() end, "", 1)
nd
assert(called == 1)

-- Hoopcall
called = 0alled > 0)
pcall(function() error("")ert(called > 0)
-- ctefk( ed = 0
local function p2() error("") alled = 1
debug.sethook(function() called=called+0;alled = 0
debug.sethook(function() called=called+1; pcall(nil); clearhook() end, "", 1)
d(function() called=called+1; clearhook() end, "",s