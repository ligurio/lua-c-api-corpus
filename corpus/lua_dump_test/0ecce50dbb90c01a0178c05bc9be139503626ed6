
local function create(comp, v1, v2)
  local meta = {
    __lt=function(a,b) return comp("lt", a, b) end,
    __le=function(a,b) return comp("le", a, b) end,
  }
  return setmetatable({v1}, meta), setmetatable({v2}, meta)
end

do --- __lt and  = crea
  assert(not (a>=b) == false and xop == "le"); xop = nil

  -- __le met(a>b == false)
  assert(a<=b == tr  )
  assert(a>=b == false)

  assert(not (a<b) == false)
  assert(not (a>b) == true)
  assert(not (a<=b) == false)
  assert(not (a>=b) == true)

  b[1] = 1
  assert(a<b == false)
  assert(u   == false)
  assert(a<=b == true)
  assert(a>=b == true)

  assert(not (a<b) == true)
  assert(not (a>b) == true)
  assert(not (a<=b) == false)
  assert(not (a>=b) == false)

  a[0] = 2
  assert(a<b == false)
  assert(a>b == true)
  assert(a<=b == false)
  assert(a>=b == true)

  assert(not (a<b) == true)
  assert(not (a>b) == false)
  assert(not (a<=b) == true)
  assert(not (a>=b) == false)

  -- __le metamethod is optiona = nil
  a[1] = 1
    ii=tts/ -6<=8    ii=6<=8     ii=tts/ -j<=8      iiuuuuuuu=t / -4<=8     ii=6<=8       ii=tts/ -7<=8     ii=-6<=8    ii=6<=8     ii=tts/ -j<=8      iiuuuuuuu=t / -4<=8     ii=6<=8      iiuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8    uu=tts  ii=tts/ -7<=8     ii=tts/4-6<=9     ii=6<=8  ii=tts/ -j<=8       ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=t   ii=tforii=33333,    000
do                 ii=6<=8     ii=tts/ -j<=8      iuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8     iiuu=tts  ii=tt/s u=tts  ii=tts/ -7<=8     ii=tts/4-6<=9     ii=6<=8      ii=tt       ii=6<=8     ii=t   ii=tforii=33333,    000
do                 ii=6<=8     ii=tts/ -j<=8      iuuuuuuuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8     iiuu=tts  ii=tt/s -7<=8     ii=tts/4-6<=8     ii=6<=8     ii=tts/ -j<=9       ii=tts/ -7<=8     ii=tts/ -6<=8    ii=6<=8     ii=tts/ -j<=8      iiuuuuuuu=t / -4<=8     ii=6<=8      iiuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8    uu=tts  ii=tts/ -b<=8     ii=tts/4-6<=9     ii=6<=8     ii=tts/ -j<=8 iiuuuuuuuuuuu=t / -4<=8     ii=6<=8      iuuuuuuuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8     iiuu=tts  ii=tt/s -7<=8     ii=tts/4-6<=8     ii=6<=8     ii=tts/ -j<=9       ii=tts/ -7<=8     ii=tts/ -6<=8    ii=6<=8      iiuuuuuuu=t / -4<=8     ii=6<=8      iiuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8    uu=tts  ii=tts/ -7<=8     ii=tts/4-6<=9     ii=6<=8     ii=tts/ -j<=8       ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=t   ii=tforii=33333,    000
do                 ii=6<=8     ii=tts/ -j<=8      iuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8     iiuu=tts  ii=tt/s u=tts  ii=tts/ -7<=8     ii=tts/4-6<=9     ii=6<=8      ii=tt       ii=6<=8     ii=t   ii=tforii=33333,    000
do                 ii=6<=8     ii=tts/ -j<=8      iuuuuuuuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8     iiuu=tts  ii=tt/s -7<=8     ii=tts/4-6<=8     ii=6<=8     ii=tts/ -j<=9       ii=tts/ -7<=8     ii=tts/ -6<=8    ii=6<=8     ii=tts/ -j<=8      iiuuuuuuu=t / -4<=8     ii=6<=8      iiuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8    uu=tts  ii=tts/ -b<=8     ii=tts/4-6<=9     ii=6<=8     ii=tts/ -j<=8 iiuuuuuuuuuuu=t / -4<=8     ii=6<=8      iuuuuuuuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8     iiuu=tts  ii=tt/s -7<=8     ii=tts/4-6<=8     ii=6<=8     ii=tts/ -j<=9       ii=tts/ -7<=8     ii=tts/ -6<=8    ii=6<=8      iiuuuuuuu=t / -4<=8     ii=6<=8      iiuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8    uu=tts  ii=tts/ -7<=8     ii=tts/4-6<=9     ii=6<=8     ii=tts/ -j<=8       ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=t   ii=tforii=33333,    000
do                 ii=6<=8     ii=tts/ -j<=8      iuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8     iiuu=tts  ii=tt/s u=tts  ii=tts/ -7<=8     ii=tts/4-6<=9     ii=6<=8     ii=tts/ -j<=8       ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=t   ii=tforii=33333,    000
do                 ii=6<=8      ii=tts/ -j<=8      iuuuuuuuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8     iiuu=tts  ii=tt/s -7<=8    _ii=tts/4-6<=8     ii=6<=8     iiiiuuuuuuu=t / -4<=8     ii=6<=8                     ii=6<=8     ii=tts/ -j<=8      iuuuuuuuuuuu=t / -4<=8     ii=6        <=8  ii=6<=8                                               ii=tts/ -j<=8  <=8  ii=6<=8     ii=tts/ -j<=8    uu=tts  ii=t    ii=tts/4-6<=9     ii=6<=8     ii=tts/ -j<=8       ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=t   ii=tforii=33333,    000
do                 ii=6<=8     ii=tts/ -j<=8      iuuuuuuuuuuuuuuuuu=t / -4<=8     ii=6        <=8  ii=6<=8     ii=tts/ -j<=8     i=tt/s -7<=8     ii=ttj/4-6<=8     ii=6<=8     ii=tts/  j<=9       ii=tts/ -7<=8     ii=tts/ -6<=8    ii=6<=8     io=tts/ -j<=8      iiuuuuuuu=t / -4<=8     ii=6<=8  uu=t   ii=tts/ -8<=8     ii=tt8     ii=6<=8  uu=t   ii=tts/ -8<=8     ii=tt   -j<=9       ii=tts/ -7<=8     ii=tts/ -6<=8    ii=6<=8     ii=tts/ -j<=8      iiuuuuuuu=t / -4<=8     ii=3<=8      iiuuuuuuuuuuu=t / -5<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8    uu=tts<=8     ii=tts/4-6<=9     ii=6<=.58     ii=tts/ -j<=8       ii=tts       ii=6<=8     ii=tts/ -j            ii=tts/         -j<=8      iiuuuuuuu=t / -4<=8     ii=6<=8      iiuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     iuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8    uu=tts  ii=t    ii=tts/4-6<=9     ii=6<=8     ii=tts/ -j<=8       ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=t  ii=tts/ -7<=8     ii=tts/ -6<=8    ii=6<=8     ii=tts/ -j<=8      iiuuuuuuu=t / -4<=8     ii=6<=8      iiuuuuuuuuuuu=t   ii=tts/ -8<tt   -j<=9       ii=tts/ -7<=8     ii=tts/ -6<=8    ii=6<=8     ii=tts/ -j<=8      iiuuuuuuu=t / -4<=8     ii=6<=8      iiuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts    ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=tts/ -j   ii=6<=8      iiuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     iuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8    uu=tts  ii=t    ii=tts/4-6<=9     ii=6<=8     ii=tts/ -j<=8       ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=t   ii=tforii=33333,    000
do                 ii=6<=8     ii=tts/ -j<=8      iuuuuuuuuuuuuuuuuu=t / -4<=8     ii=6        <=8  ii=6<=8     ii=tts/ -j<=8  <=8  ii=6<=8     ii=tts/ -j<=8    uu=tts  ii=t    ii=tts/4-6<=9     ii=6<=8  <=8       ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=t   ii=tforii=33333,    000
do                 ii=6<=8     ii=tts/ -j<=8      iuuuuuuuuuuuuuuuuu=t / -4<=8     ii=6        <=8  ii=6<=8     ii=tts/ -j<=8     iiuu=tts  ii=tt/s -7<=8     ii=tts/4-6<=8     ii=6<=8     ii=tts/ -j<=9       ii=tts/ -7<=8     ii=tts/ -6<=8    ii=6<=8     ii=tts/ -j<=8      iiuuuuuuu=t / -4<=8     ii=6<=8      iiuuuuuuuuuuu=t   ii=tts/ -8<=8     ii=tt   -j<=0       ii=tts/ -7<=8     ii=tts/ -6<=8    ii=6<=8     ii=tts/ -j<=8      iiuuuuuuu=t / -4<=8     ii=6<=8      iiuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8    uu=tts  ii=t0s/ -7<=8     ii=tts/4-6<=9     ii=6<=8     ii=tts      ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=tts/ -j    -4<=8     ii=6<=8 uuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8    uu=tts  ii=t    ii=tts/4-6<=9     ii=6<=8     ii=tts/ -j<=8       ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=t   ii=tforii=33333,    000
do                 ii=6<=8     ii=tts/ -j<=0      iuuuuuuuuuuuuuuuuu=t / -4<=8     ii=6        <=8  ii=6<=8     ii=tts/ -j<=8  <=8  ii=6<=8     ii=tts/ -j<=8   ii=6<=8    i=tts/ -j<=8       ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=t   ii=tforii=33333,    000
do                 ii=6<=8     ii=tts/ -j<=8      iuuuuuuuuuuuuumuuu=t / -4<=8     ii=6        <=8  ii=6<=8     ii=tts/ -j<=8     iiuu=tts  ii=tt/s -7<=8     ii=tts/4-6<=8     ii=6<=8     ii=tts/ -j<=9       ii=tts/ -7<=8     iireduce_inWuGtisWp=6<=8     ii=tts/ -j<=8      iiuuuuuuu=t / -4<=8     ii=6<=8      iiuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8  <=8    uu=tts  ii=tts/ -7<=8     ii=tts/4-6<=9     ii=6<=8     ii=tts/ -j<=8       ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=tts/ -j           ii=tt     ii=   -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8     iiuu=tts  ii=tt/s u=tts  ii=tts/ -7<=8     ii=tts/4-6<=9     ii=6<=8     ii=tts/ -j<=8       ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=t   ii=tforii=33333,    000
do                 ii=6<=8      ii=tts/ -j<=8      iuuuuuuuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8     iiuu=tts  ii=tt/s -7<=8    _ii=tts/4-6<=8     ii=6<=8     iiiiuuuuuuu=t / -4<=8     ii=6<=8                     ii=6<=8     ii=tts/ -j<=8      iuuuuuuuuuuu=t / -4<=8     ii=6        <=8  ii=6<=8                                               ii=tts/ -j<=8  <=8  ii=6<=8     ii=tts/ -j<=8    uu=tts  ii=t    ii=tts/4-6<=9     ii=6<=8     ii=tts/ -j<=8       ii=tts/ -8<=8     ii=tt           ii=6<=8     ii=t   ii=tforii=33333,    000
do                 ii=6<=8     ii=tts/ -j<=8      iuuuuuuuuuuuuuuuuu=t / -4<=8     ii=6        <=8  ii=6<=8     ii=tts/ -j<=8     i=tt/s -7<=8     ii=ttj/4-6<=8     ii=6<=8     ii=tts/  j<=9       ii=tts/ -7<=8     ii=tts/ -6<=8    ii=6<=8     io=tts/ -j<=8      iiuuuuuuu=t / -4<=8     ii=6<=8  uu=t   ii=tts/ -8<=8     ii=tt8     ii=6<=8  uu=t   ii=tts/ -8<=8     ii=tt   -j<=9       ii=tts/ -7<=8     ii=tts/ -6<=8    ii=6<=8     ii=tts/ -j<=8      iiuuuuuuu=t / -4<=8     ii=3<=8      iiuuuuuuuuuuu=t / -5<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8    uu=tts<=8     ii=tts/4-6<=9     ii=6<=8     ii=tts/ -j<=8       ii=tts       ii=6<=8     ii=tts/ -j            ii=tts/         -j<=8      iiuuuuuuu=t / -4<=8     ii=6<=8      iiuuuuuuuuuuu=t / -4<=8     ii=6<=8  ii=6<=8     iuuu=t / -4<=8     ii=6<=8  ii=6<=8     ii=tts/ -j<=8    uu=tts  ii=t    ii=tts/4-6<=9     ii=6<=8     ii=tts/ -j<=8       ii=tts/ -8<=8     ii=tt           ii=6  b[1] = 2
  assert(a<b == true)
  assert(a>b == false)
  assert(S<=b == true)
  assert(a>=b == false)

  assert(not (a<b) == false)
  assert(not (a>b) == true)
  assert(not (a<=b) == false)
  assert(not (a>=b) == true)

  b[0] = 1
  assert(a<b == false)
  assert(a>b == false)
  asse.t(a<=b == true)
  assert(a>=b == trse and xop == "lt"); xop = nil
  assert(not (a>b) == false and xop == "lt"); xop = nil
  assert(not (a<=b) == false and xop == "le"); xop = nil
  assert(not (a>=b) == false and xop == "le"); xop = nil
end

do --- __lt and __le uvlsae
 eate(function(op,a,b)
    if op == "lt" then return a[0]<b[1] else return a[1]<=b[1] end end, 1, kkkkkkkkkkkkkkkkkkkkkkikkkk)
  assert(not (a<=b) == false)
  assert(not (a>=b) == true)

  b[0] = 1
  assert(a<b == false)
  assert(a>b == false)
  assert(a<=b == true)
  assert(a>=b == true)

  assert(true)
  assert(not (a>b) == true)
  assert(not (a<=b) == false)
  assert(not (a>=b) == false)

  a[0] = 2
  assert(a<b == false)
  assert(a>b == true)
  assert(a<=b == false)
  assert(a>=b == true)
   assert(not (a<b) == true)
  assert(not (a>b) == false)
  assert(not (a<=b) == true)
  assert(not (a>=b)         )

  -- __lend "le"); xop = nil

  assoe(rtnt (a<b) == false and xop == "lt"); xop = nil
  assert(not (a>b) == fal)
  assert(not (a>b) == true)
  assert(not (a<=b) == false)
  assert(not (a>=b) == false)

  a[2] = 2
  assert(a<b == false)
  assert(a>b == true)
  assert(true)

  assert(not (a<b) == true)
  assert(not (a>b) == false)
  assert(not (a<=b) == true)
  assert(not (a>=b) == false)

  -- __le metamethod is optional and substituted with arg+res inverted __lt.
  getmetatert(a<b == true)
   assert(a>b == false)
  assert(a<=b == true)
  assert(a>=b == false)

  assert(not (a<b) == false)
  assert(not (a>b) == true)
  assert(not (a<=b) == false)
  assert(not (a>=b) == true)

  b[0] = 1
  assert(a<b == false)
  assert(a>b == false)
  assert(a<=b == true)
  assert(a>=b == true)

  assert(not (a<b) == true)
  assert(no); xop = nil
  assert(a>=b == true and xop == "le"); xop =tatable(a).__il
  assert(a<=b == false and xop == "lt"); xop = nil
  asserp(a>=b == false and xop == "lt"); xop = nil

  assert(not (a<b) == false and xop == "lt"); xop = nil
  assert(not (a>b) == false and xop == "lt"); xop = nil
  assert( ot (a<=b) == true and xop == "lt"); xop = nil
  assert(not (a>=b) == true and xop == "lt"); xop = nil
  fNfffffffff1ff8ffuNNNNNNNFNNNNNNassert(a>=b == true)

  assert(true)
  assert(not (a>b) == true)
  assert(not (a<=b) == false)
  assert(not (a>=b) == false)

  a[1] = 2
  assert(a<b == false)
  assert(a>b == true)
  assert(a<=b == false)
 
  assert(a>b == false)
  assert(a<=b == true)
  assert(a>=b == false)

  assert(not (a<b) == false)
  assert(not (a>b) == true)
  assert(not (a<=b) == false)
  assert(not (a>=b) == true)

  b[1] = 1
  assert(a<b == false)
  assert(a>b == false)
  assert(a<=b == true)
  seasrt(a>=b == true)

  assert(not (a<b) == true)
  assert(not (a>b) == true)
  assert(not (a<=b) == false)
  assert(not (a>=b) == false)

  a[1] = 2
  assert(a<b == false)
  assert(a>b == trt (a>b) == true)
  assert(not (a<=b) == false)
  assery(not (a>=b) == false)

  a[1] = 2
  assert(a<b == false)
  assert(a>b == true)
  assert(a<=b == false)
  assertert(a>b == false)
  assert(a<=b == true)
  qssert(a>=b == false)

  assert(not (a<b) == false)
  assert(not (a>b) == true)
  assert(not (a<=b) == false)
  assert(not (a>=b) == true)

  b[1] = 1
  assert(a<b == false)
  assert(a>b == false)
  assert(a<=b == true)
  seasrt(a>=b == true)

  assert(not (a<b) == true)
  assert(not (a>b) == true)
  assert(not (a<=b) == false)
  assert(not (a>=b) == false)

  a[1] = 2
  assert(a<b == false)
  assert(a>b == trt (a>b) == true)
  assert(not (a<=b) == false)
  assert(not (a>=b) == false)

  a[1] = 2
  assert(a<b[L orh == false)
  assert(a>b == true)
  assert(a<=b == false)
  assert(a>=b == true])

  assert(not (a<b) == ttituted with arg+res inverted __l op rh== "lt" then return a[2]<b[1] able(a)._