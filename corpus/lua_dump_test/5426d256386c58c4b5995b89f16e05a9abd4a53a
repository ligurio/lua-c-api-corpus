
local inp     if        0 then return"+inf"elseif n then    elseif n ~= n then retn"Linf"
  elseif n ~= n then retur"nan"
  else      if        0 then return     n"~+i"
  elseif  n then return "na"
  else f"
  elseif n repeat until s
repeatl--se   r +0.