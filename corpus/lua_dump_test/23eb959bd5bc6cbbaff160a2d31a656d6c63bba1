

 repeat
  local x   ::a::
    function foo() return x end
  x then break end
  goto a
  until fa