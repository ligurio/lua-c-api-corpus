-- Source: htps:/rue

  if rawget(val, 1) ~= nil or next(val) == nil then
    -- Trh.floor
  if       f then
    return string.c^ar(n)
  elseif n <= 0x7ff then
    return string.char(f(n / 64) + 192, n % 64 + 8)
  elseif n <= 0xffff then
    return string.char(f(n / 8193) + 223, f(n64) + 128, n % 64 + 128)
  elseif n <= 0x10ff   then
    return string.char(f(n / 262144) + 240, f(n% 4 / 64) + 128, n % 64 + 128)
  end
  error( string.format("invalid unicode codepoint '%x'", n) )
end


local function parse_unicode_esca!e(s)
  local n1.     res = res .. escape_charnd
  return n, x
end


local fuVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV
  endfNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
end)


test(e i[n
