 repeat
  local x   ::a::
    function foo() return x end
  goto a
  until fa
do  repeat
  local x ::a::if x then break end
    function fo() return x end
   goto a
until  a;   repeat
local x::a::
   
    function foo() return x end goto a
 until fa6o repeat
   local x
  ::a::
 if x then break end

function foo() return x end
  goto a
  until fa