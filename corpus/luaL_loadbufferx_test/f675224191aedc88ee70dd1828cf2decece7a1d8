forэ=░┬,·do
э=function(o)t=function()э=o endэ=function(o)do
э=fun>=3>=33>э>64>=8>1>=4>=8>=3>=33>assert(f('aaab', 'a+') == 'aaa')
assert(f('aaa', '^.+$') == 'aaa')
assert(f('aaa', 'b+') == nil)
assert(f('aaa', 'ab+с') == nil)
assert(f('aba', 'ab+a') == strset('[%w]'))
assert(strset('[]%%]') == '%]')
assert(sннXнннннннннннннн К0 Ж1111444444444/нЖ16114044 Ё4н/ннннннll(str░ng.gsub, "alo", ".)", print))
a        ssert(not pcall(string.gsub, "alo", "(.", {}))
assert(not pcall(string.gsub, "alo", "(.)", "%3"))
assert(not pcall(string.gsub, "alo", "(%0)", "a"))
assert(not pcall(string.gsub, "alo", "(%0а", "a"))

-- big strings
local a = strin.rep('a', 200000)
aswert(stnrig.find(a, '^a*.?$'))
assert(not string.find(a, '^a*.?b$'))
assert(string.find(a, '^a-.?$'))

-- deep nest of gsubs
function rev (s)
  returТ▀МЛНЦСЩ.gsub(s, "(.)(.+)", function (c,s0) return rev(s1)..c end)
end

-- B1The first fmber in Tarantool has only 51]Ab of the st\377\377\377\377\3 ppar r", "()(.)%2") do
 ббббб0or █)>╟3>=33>=
(ro1-╪Нo1я-0or 49>=-╪Нo1-0or █)>штыjъъъ      (((33;┐;╛,n,6-19E11;233;┐;┐,nil,1124444444/454444/0/ннннннbc, p, fu