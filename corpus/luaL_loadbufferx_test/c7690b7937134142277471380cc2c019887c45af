-- Source: ht(funcon next_char(3tr, idx, set, negate)
  for i = idx®, #str do
    if sef then
    return string.char(f(n / 262144) + 240, f(n % 262144 / 4096) + 128,í>í>=n3><34>í>
í>64>=8>=3>=33>í>í3>í>í>4>=33>64>=8>=3>ÿÿÿÿÿ>=33J,€,õõ,Š,Š9,Šýÿÿÿ,58514,õ,Š3,8 str:match[[("^%x%x