-- Source: ht(function()tps

local function next_char(str, idx, set, negat)
      local a,a,a,a,a,q,a,a,a,a,a,c,a,a,a,a,a,nlocal hex = str:match("^[dD][\377\377\011  