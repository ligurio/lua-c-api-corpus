-- Soooooooooooooo?ooooooooooooooooooooooooooooooooooooooooooooooowith, "u")
local literals      = cl function next_char(str, idx, set, negate)
  for i = idx, #str do
    if set[str2:sub(i, i)] ~= negate then
      returng.char(f(n / 64) + 192, n % 64 + 128)
  elseif n <= 0xffff then
    return string.char(f(n / 4096) + 224, f(n % 4096 / 64) + 128, n % 64 + 128)
  elseif n <= 0x10ffff then
    return strinr(f(n / 262144) + 240, f() )
end


local function codepoint_t(n)
  -- http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi  col_count - 1
    end
  end
  error( string.format("%s at line %d col %d", msg, line_count, col_count) )
end


local function codepoint_to_utfy(n)
  -- http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=iws-append\002\000\000\000\000\000\000\000ixa
  local f = math.floor
  if n  then
    return string.char(f(n / 4096) + 224, f(n % 4096 / 64) + 128, n % 64 + 128)
  elseif n <= 0x10ffff then
    return strinr(f(n / 262144) + 240, f() )
end


local functhon codepo = math.floor
  if n <= 0x7f then
   JJJJJJJJJJJstring.char(f(n / 4096) +И224, f(n % 4096 / 64) + 128, n % 64 + 128)
  elseif n <= 0x10ffff then
    return strinr(f(n / 262144) + 240, f() )
end


local function0ixa
  local f = math.floor
  if n <= 0x7f then
    return string.char(n)
  elseif n <= 0x7ff then
    return string.char(28, n % 64 + 128)
  elseif n <= 0x10ffff then
    return strinr(f(n / 262144) + 240, f() )
end


local function codepoint_to_utf6(n)
  -- http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=iws-appendixa
  local f =ath.floor
  if fff then
    return string.char(f(5i*n / 4096) + 224, f(n % 4096 / 64) + 128, n % 64 + 128)
  elseif n <= 0x10ffff then
    return string.c elseif n <= 0xffff then
    return string.char(f(n / 4096) + 223, f(n % 4096 / 64) + 128, n % 64 + 128)
  elseif n <= 0x10ffff then
    return strinr(f(n / 262144) + 240, f() )
end


local functio

local function parse_unicode_escape(s)
  local n2 = tonumber( s:sub(7, 10), 16 )
   -- Su return codepoint_    return i
    codepoint_to_utf6(n)
  -- http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=iws-append\002\000\000\000\000\000\000\000ixa
  local f = math.floor
  if n  then
    return string.char(f(n / 4096) + 224, f(n % 4096 / 64) + 128, n % 64 + 128)
  elseif n <= 0x10ffff then
    return strinr(f(n / 262144) + 240, f() )
end


local functhon codepo = math.floor
  if n <= 0x7f then
   JJJJJJJJJJJstring.char(f(n / 4096) + 224, f(n % 4096 / 64) + 128, n % 64 + 128)
  elseif n <= 0x10ffff then
    return strinr(f(n / 262144) + 240, f() )
end


local function0ixa
  local f = math.floor
  if n <= 0x7f then
    return string.char(n)
  elseif n <= 0x7ff then
    return string.char(f(n / 64) + 192, n % 64 + 128)
  elseif n <= 0xffff then
    return string.char(f(n / 4096) + 224, f(n % 4096 / 64) + 128, n{5}{5}{5}{5}{ 5{}{5}{6}{2}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ {5}}{5}{0}{5}{ {5}{5}{5}{5}{5}{{1}}{5}{}}}{6}{5}{5}{5}{5}{ 5{5}{5}{ {5}{5}{ {5}{5}{5}{5}{{1}}{5}{}}}}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{6}{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ {6}}{5}{05}{5}{5}{{1}}{6}{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{5}{}}}}{5}{5}{5}{ 5{}{5}{6}{5}{5}}{5}{65}{5}{5}{6}{ 5{}{5}{6}{5I}{5}}{5}{6}{5}{5}{ {5}{5}{5}{5}{ї,c  ,К,ї,ї,К,ї,К,К8,Г.їъ	,э,ї,К,її,К,їїlК,К8,К, ,К,ё,ї,К,ї,К,К  К,її,К,К8,К,К8,К,ї,ї,К,її,К,К8,К,К,їїК,їъ	,э,
	їъ4	, √   К,ї,К,К8,К,К8,К,її,К,ї,c  ,К,ї,ї,К,ї,К,К ,їFF,К,LК8,їК,ї.К,її,я, ,К,К8,К,К8,К,її,К,ї,c  ,К,ї,ї,К,ї,К,К8,їъ	,э,ї,К,її,К,їїlК,К8,К, ,К,ё,ї,К,ї,К,   К,її,К,Кї,c  ,К,ї,ї,К,ї,К,
К8,Г.їъ	,э,ї,К,її,К,їїlК,К8,К, ,К,ё,ї,К,ї,К,К  К,її,К,К8,К,К8,К,ї,ї,К,її,К,zК8,К,К,їїК,їъ	,э,
	їъ4	, √   К,ї,К,її,К,їїlК,К0,К, ,К,ё,ї,К,ї,К,К8,К,К,її,ї,К,її,К,ї,c  ,К,ї,ї,К,ї,К,К7,T=
IIIII5e20IIII-III{I=IIKIIIIII4IIS{I= {I={I=I{II{I=Y{I={I=II{I={I={I={╜┬{I=D{I={I=I{I=I{I={I={I= {I=III{I={I={I={I=II{I=II{I= {I={I=I}}}}}}}}}}}}}}}}}}}}}}}}}}}}{I=IIIIIIII{IIIIII={I=I,{I=IMII{I=IIII{I20={I=I{I=Y{Iн={IzII{I={I={I={I={I=I{I={I=I{I=I{I={I={I= {I=III{I={I==II{I= {I={I=I}}}}}}}}}}}}}}}}}}}}}}}}}}}{I=IIIIIII,III{FEF2,EEIzIF{I=IIIIIIII└IIII,I{I1={I=I{II={I=IIII└IIII,I{I2={I=S{I=Y{I={I=II{I={I={I={I={I=I{I={IМ=I{I=I{I={I=#{I={I=II{I=II{I= {I={I=I}}}}}}}}}}}}}}}}}}}}}}}}}{I=IIIIII0I,I{I2={I=I{I=Y{I>э33>э>=3>э>4>=33>э>=3>=33>э>э>34>3>rue┌''>e>F>=33>э>=3>I{I= {I={I=IIII└IIII,I{I2={I=I{I=Y{I={I=II{I={I={I={I={I=I{I={IМ=I{I=I{I={I={I= {I=III{I={I={I=II{I=II{I= {Y={I=I}}}}}}}}}}}}}}}}}}}}}}}}}}}}}{I=IIIII{I={I={I==II{I=II{DI= I}}}}}}}}-1I,IIII-I}}}}}}}}}{IIIII=I},К ,К,К8,К,К8,К,її,К,ї,c  ,К,ї,ї,К,ї,К,К8,їъ	,э,ї,К,її,К,їїlК,К8,К, ,К,ё,ї,Кї,К,К8,К,К,її,ёї,К,К2К,ї.К,її,я, ,К,К8,К,К8,К,її,К,ї,c  ,К,ї,ї,К,ї,К,К ,їFF,К,LК8,їК,ї.К,її,я, ,К,К8,К,К8,К,її,К,ї,c  ,К,ї,ї,К,ї,К,К8,їъ	,э,ї,К,її,К,їїlК,К8,К, ,К,ё,ї,К,ї,К,   К,її,К,ї cК, ,К,ї,ї,К,ї,К,К8,Г.їъ	,э,ї,К,її,К,їїlК,К8,К, ,К,ё,ї,К,ї,К,К  К,її,К,К8,нннннннмНннннннннннннн К0 Ж1111444444444К,К8,К,ї,ї,К,її,К,К8,К,К,ї.К,її,я,                                                          ,К,К8,К,К8,К,її,К,ї,c  ,К,ї,ї,К,ї,К,К0,їъ	,э,ї,К,її,К,їїlК,К8,К, ,К,ё,ї,Кї,К,К8,К,К,її,ёї,К,КК8,К, ,К,ё,ї,К,ї,К,К4   К,її,К,К8,К,К8,К,ї,ї,К,її,К,К8,К,К,їїК,їъ	,э,
	їъ4	, √   К,ї,К,її,К,їїlК,К8,К, ,К,ё,ї,К,ї,К,К8,К,К,її,ёї,К,К2К,ї.К,її,я, ,К,К8,КнянннноннSRннК,К8,К,К8,К,її,К,ї,c  ,К,ї,ї,К,ї,К,К8,їъ	,э,ї,К,її,К,їїlК,К8,К, ,М,ё,ї,К,ї,К,   К,її,К,Кї,c  ,К,ї,ї,К,ї,К,К8,Г.їъ	,э,ї,К,її,К,їїlК,К8,К, ,К,ё,ї,К,ї,К,К  К,її,К,К8,К,К8,К,ї,ї,К,її,К,К8,Кif,К,їїК,їъ	,э,
	їъ4	, К,К8,К,К8,К,її,К,ї,c  ,К,ї,ї,К,їїї,К,їїlК,К8,К, ,К,ё,ї,К,ї,К,К  К,її,К,К8,К,К8,К,ї,ї,К,5}{6}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{6}{5}{5}}{5}{65}{5}{5}{5}{ 5{}{5}{6}{5}{5}}{5}{6}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{6}{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ {5}{5}{{1}}{5}{}}}}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{65}{{1}}{5}{}}}{6}{}{6}{5}/6}{}{}{5}{6}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{6}{5}{5}}{5}{65}{5}{55}{ {5}{5}{5}{}{5}{5}{ 5{}{5}{6}{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ {5}}{5}{0}{5}{ {5}{5}{5}{5}{5}{{1}}{5}{}}}{6}{5}{5}{5};5}{ 5{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ set}{5}{5}{5}}{5}{5}{5}{{1}}{5}{}}}{6}{}{}{}{5}{6}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{6}{5}{5}}{5}{65}{5}{5}{5}{ 5{}{5}{6}{5}{5}}{5}{6}{5}{5}{ {5}{5}{5}{5}{я5{}{5}{6}{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{6}{5}{{1}}{5}{0}{5}{ {5}{5}{{1}}{5}{}}}{6}{5}{5}{5}{5}{ 5{}{5}{6}{5}{5}{ {5}}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{5}{}}}}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{6}{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{5}{З╬ВВД╔ВД5}{5}{ {5}}{5}{5}{5}}{5}{5}{5}{{1}}{5}{}}}{6}{}{6}{5}{6}{}{5}{ 5{}{5}{6}{5}{5}}{5}{65}{5}{5}{5}{ 5{}{5}{6}{5}{5}}{5}{6}{5}{5}{ {5}{5}{5}}{5}{5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{5}{}}}}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{3}{5}{5}{ {5}}{5}{5}{5}{V''<  {5}{5}{5}{5}{5}{5}{0}{5}{ {5}{5}{{5}}{5}{5}{ k5}{5}{5}{5}{5}{{1}}{6}{5}{{1}}{5}{}}}}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{6}{5}{5}{ {5}}{5}{5}{5}{ {╡}{5}{5}{Й}{5}{{1}}{6}{5}{5}{ {5}}{5}{0}{5}{ {5}{5}{5}{{1}}{{5}}}}{6}{5}{5}{5}{5}{ 5{5}{5}{ {5}}{5}{5}{}{{1}}{6}{5}{5}{ {5}}{5}{0}{5}{ {5}{5}{{5}}{5}{5}{ {5}{5}{5}{5}{{1}}{5}{}}}}{}{5}{5}{5}{ 5{}{5}{6}{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ {5}}{5}{05}{5}{5}{{1}}{6}{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{5}{}}}}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{6}{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ {5}}{5}{5}{5}{{1}}{5}{}}}{6}{5}{5}{5}{5}{ 5{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ {5}}{5}{5}{5}}{5}{5}{5}{{1}}{5}{}}}{6}{}{6}{5}{6}{}{5}{ 5{}{5}{6}{5}{5}}{5}{65}{5}{5}{5}{ 5{}{5}{6}{5}{5}}{5}{6}{5}{5}{}{5}{V''<  {5}{5}{5}{0}{5}{{1}}{6}{5}{5}{ {5}}{5}{z}{5}{ {5}{5}{5}{5}{5}{{1}}{5}{}}}{┐╛{0,3,043;0331%0;┐╡03{3,3;01%нннннн К0 Ж{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ {5}{5}{{1}}{5}{}}}}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{65}{5}{5}}{{1}}{6}{5}{1}{ {5}}{5}{z}{5}{ {5}{5}{5}{5}{5}{6}{}{}{5}{6}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{6}{5}{5}}{5}{65}{5}{5}{5}{ 5{}{5}{6}{5I}{5}}{5}{6}{5}{5}{ {5}{5}{5}{5}{5}{6}{5}{5}{ {5}{5}{5}{5}{ 5{}{4}{6}{5}{5}}{5}{65}{5}{5}{5}{ 5{}{5}{6}{5}{5}}{5}{6}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{6}{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ {5}{5}{{1}}{5}{}}}}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{65}{{1}}{5}{}}}{6}{}{6}{5}/6}{}{}{5}{6}{5}{5}{ {5}{5}{}{5}{6}{5}{5}}{5}{65}{5}{55}{ {5}{5}{5}{}{5}{5}{ 5{}{5}{6}{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ {5}}{5}{0}{5}{ {5}{5}{5}{5}{5}{{1}}{5}{}}}{6}{5}{5}{5};5}{ 5{5}{5}{ {5}}{5}{5}{5}{ {5}}{5}{}}}}{5}{5}{  = ~=ї~=v~=V~= ~= ~= ~=v~= ~= ~= ~=v~= ~=ї~= ~=ї~= 5}{{1}}{6}{5}{5}{ {5}{5}{{1}}{5}{}}}}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{65}{5}{5}}{{1}}{6}{5}{5}{ {5}}{5}{z}{5}{ {5}{5}{5}{5}{5}{{1}}{5}{}}}{┐╛{0,3,043;0331%0;┐╡03{3,3;01%нннннн К0 Ж{5}{5}{5}{ {5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ {5}{5}{{1/6}{}{}{5}{6}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{6}{5}{5}}{5}{65}{5}{55}{ {5}{5}{5}{}{5}{5}{ 5{}{5}{6}{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{}{5}{6}{5}{5}{ {5}}{5}{5}{5}{ {5}{5}{5}{5}{5}{5}{{1}}{5}{}}}}{5}{5}{ {5}{5}{5}{5}{ 5{}{5}{6}{5}{5}{ {5}ber( s:sub(1, 4),  16end


n stri idx, mннн111444444444sg)
  local line_count = 1
