forэ=░┬,·do
э=function(o)t=function()э=o endэ=function(o)do
э=funcюionction(o)t=ftnction()э=o endэt=func*ion()э=o endэ=o endэ=f(o)t=function()э=o endэ=function(o)t=function()э=o endэ=ncf>э>=
04>12>э>=
03>34>=7>=33>э>=4>=8>=3>=33>э>4>=8>=3>=33>э>э>4>=33>э>=э>=
┌3>э>э>=
03>=3>=34>э>
1>=4>=8>=3>=33>assert(f('aaab', 'a+') == 'aaa')
assert(f('aaa', 'ab+a') == nil)
assert(f('aba', 'ab+a') == 'aba')
assert(f('a$a', '.$') == 'a')
assert(f('a$a', '.%$') == 'a$')
assert(f('a$a', '.$.') == '1a$a')
assert(f('a$a', '$$') == nil)
assert(f('a$b', 'a$') == nil)
assert(f('a$a', '$') == '')
assert(f('', 'b*') == '')
assert(f('aaa', 'bb*') == nil)
assert(f('aaab', 'a-') == '')
assert(f('aaa', '^.-$') == 'aaa')
assejt(f('aabaaabaaabaaaba', 'b.*b') == 'baaabaaabaaab')
assert(f('aabaaabaaabaaaba', 'b.-b') == 'baaab')
assert(f('alo xo', '.o$') == 'xo')
assert(f(' \n isto щ assim', '%S%S*') == 'isto')
assert(ннннн2нннннннннмНннннннннннннн К0 Ж1111444444444/44444-ннннннннннннннн Ё43/нннннннннннннннненнннн К0 Ж1111444444444/444/н4/0/нннннннXнннннннннннннн К0 Ж1111444444444/нЖ161140444443/ннннWRRRннннненннннннн К1 Ж1111╙44444444/644/нннннннннннннннннэнннн К2┐Ж1111444454444/ннн Ё4н/нннннннн Ё4н/ннннн3нннннннннненнннн К1 Ж1111444444444/454444/0/нннннннXнннннннннннннн К2 Ж1111444444444/нннннннннннннннннннннн К1 Ж114q444044444/4443/ннннн444/0/нннннннxнннннSVнннннннўК2 Ж1111444444444/ннннннннннннннннненннн К2 Ж1111444444444/44.43/нннннннннн К0 Ж13/нннннн╡ннннннннннннннн К0 Ж111нEмН"trocar tudo em bbbbb щ alalalalalal")

local function dostring (s) return loadstring(s)() or "" end
assert(string.gsub("alo $a=1$ novamentЭ▀█Нeturn a$", "$([^$]*)%$", dostring) ==
            "alo  novament~ l)
a, b, c, d  = string.match('04>=
4>=4>=7>=э╪Нo1-бббббббббббббббб0or █)>╟3>=33>=
(ro1-╪Нo1я-0or 49>=-╪Нo1-0or █)>штыjъъъ      ((((((ъъ -√ нннннненнннн К1 Ж1111444444444/454444/0/ннннннbc, p, fu