-- Soooooooooooooo?ooooooooooooooooooooooooooooooooooooooooooooooowith, "u")
local literals      = cl function next_char(str, idx, set, negate)
  for i = idx, #str do
    if set[str2:sub(i, i)] ~= negate then
      returng.char(f(n / 64) + 192, n % 64 + 128)
  elseif n <= 0xffff then
    return string.char(f(n / 4096) + 224, f(n % 4096 / 64) + 128, n % 64 + 128)
  elseif n <= 0x10ffff then
    return strinr(f(n / 262144) + 240, f() )
end


local function codepoint_t(n)
  -- http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi  col_count - 1
    end
  end
  error( string.format("%s at line %d col %d", msg, line_count, col_count) )
end


local function codepoint_to_utfy(n)
  -- http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=iws-append\002\000\000\000\000\000\000\000ixa
  local f = math.floor
  if n  then
    return string.char(f(n / 4096) + 224, f(n % 4096 / 64) + 128, n % 64 + 128)
  elseif n <= 0x10ffff then
    return strinr(f(n / 262144) + 240, f() )
end


local functhon codepo = math.floor
  if n <= 0x7f then
   JJJJJJJJJJJstring.char(f(n / 4096) +ˆ224, f(n % 4096 / 64) + 128, n % 64 + 128)
  elseif n <= 0x10ffff then
    return strinr(f(n / 262144) + 240, f() )
end


local function0ixa
  local f = math.floor
  if n <= 0x7f then
    return string.char(n)
  elseif n <= 0x7ff then
    return string.char(28, n % 64 + 128)
  elseif n <= 0x10ffff then
    return strinr(f(n / 262144) + 240, f() )
end


local function codepoint_to_utf6(n)
  -- http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=iws-appendixa
  local f =ath.floor
  if fff then
    return string.char(f(5i*n / 4096) + 224, f(n % 4096 / 64) + 128, n % 64 + 128)
  elseif n <= 0x10ffff then
    return string.c elseif n <= 0xffff then
    return string.char(f(n / 4096) + 223, f(n % 4096 / 64) + 128, n % 64 + 128)
  elseif n <= 0x10ffff then
    return strinr(f(n / 262144) + 240, f() )
end


local functio

local function parse_unicode_escape(s)
  local n2 = tonumber( s:sub(7, 10), 16 )
   -- Su return codepoint_    return i
    codepoint_to_utf6(n)
  -- http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=iws-append\002\000\000\000\000\000\000\000ixa
  local f = math.floor
  if n  then
    return string.char(f(n / 4096) + 224, f(n % 4096 / 64) + 128, n % 64 + 128)
  elseif n <= 0x10ffff then
    return strinr(f(n / 262144) + 240, f() )
end


local functhon codepo = math.floor
  if n <= 0x7f then
   JJJJJJJJJJJstring.char(f(n / 4096) + 224, f(n % 4096 / 64) + 128, n % 64 + 128)
  elseif n <= 0x10ffff then
    return strinr(f(n / 262144) + 240, f() )
end


local function0ixa
  local f = math.floor
  if n <= 0x7f then
    return string.char(n)
  elseif n <= 0x7ff then
    return string.char(f(n / 64) + 192, n % 64 + 128)
  elseif n <= 0xffff then
    return string.char(f(n / 4096) + 224, f(n % 4096 / 64) + 128, n{5}{5}{5}{5}{ÿ5{}{5}{6}{2}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿ{5}}{5}{0}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{5}{}}}{6}{5}{5}{5}{5}{ÿ5{5}{5}{ÿ{5}{5}{ÿ{5}{5}{5}{5}{{1}}{5}{}}}}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿ{6}}{5}{05}{5}{5}{{1}}{6}{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{5}{}}}}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}}{5}{65}{5}{5}{6}{ÿ5{}{5}{6}{5I}{5}}{5}{6}{5}{5}{ÿ{5}{5}{5}{5}{õ,cÿÿ,Š,õ,õ,Š,õ,Š,Š8,ƒ.õê	,í,õ,Š,õõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,Š,õ,Š,ŠÿÿŠ,õõ,Š,Š8,Š,Š8,Š,õ,õ,Š,õõ,Š,Š8,Š,Š,õõŠ,õê	,í,
	õê4	,ÿûÿÿÿŠ,õ,Š,Š8,Š,Š8,Š,õõ,Š,õ,cÿÿ,Š,õ,õ,Š,õ,Š,Šÿ,õFF,Š,LŠ8,õŠ,õ.Š,õõ,ï,ÿ,Š,Š8,Š,Š8,Š,õõ,Š,õ,cÿÿ,Š,õ,õ,Š,õ,Š,Š8,õê	,í,õ,Š,õõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,Š,õ,Š,ÿÿÿŠ,õõ,Š,Šõ,cÿÿ,Š,õ,õ,Š,õ,Š,
Š8,ƒ.õê	,í,õ,Š,õõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,Š,õ,Š,ŠÿÿŠ,õõ,Š,Š8,Š,Š8,Š,õ,õ,Š,õõ,Š,zŠ8,Š,Š,õõŠ,õê	,í,
	õê4	,ÿûÿÿÿŠ,õ,Š,õõ,Š,õõlŠ,Š0,Š,ÿ,Š,ñ,õ,Š,õ,Š,Š8,Š,Š,õõ,õ,Š,õõ,Š,õ,cÿÿ,Š,õ,õ,Š,õ,Š,Š7,õê	,í,õ,Š,õõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,Š,õ,Š,ÿÿÿŠ,õõ,Š,ŠõËcÿÿ,Š,õ,õ,Š,õ,Š,Š8,ƒ.õê	-í,õ,Š,õõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,‹,õ,Š,ŠÿÿŠ,õõ,Š,Š8,Š,Š8,Š,õ,õ,Š,õõ,Š,Š8,Š,Š,õõŠ,õê	,í,
	õê4	,ÿûÿÿÿŠ,õ,Š,õõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,Š,õ,Š,Š8,Š,Š,õõ,õ,Š,õõ,Š,õ,Š,êêŠ,õ,Š,õõ,Š,Š8,Š,Š,õõ,Šõÿÿÿ,Š,õ,Š8,õê	,í,õ,ŠAõõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,Š,õ,Š,ÿÿÿŠ,õõ,Š,Šõ,cÿÿ,Š,õ,õ,Š,õ,Š,Š8,ƒ.õê,Š,ñ,õ,Š,õ,Š,Š8,Š,Š,õõ,õ,Š,õõ,Š,õ,Š,êêŠ,õ,Š,õõ,Š,Š8,Š,Š,Š4ÿÿÿŠ,õõ,Š,Šõ,cÿÿ,Š,õ,õ,Š,õ,Š,Š8,ƒ,õê	,í,õ,Š,õõ,Ê,õõl,Š,õõ,Š,Š8,Š,Š,õõŠ,õê	,í,
	õê4	,ÿûÿÿÿŠ,õ,Š,õõ,Š,õõ,Š,Š8,Š,õõ,Š,õ,cÿÿ,Š,õ,õ,Š,õ,Š,Šÿ,õFF,Š,LŠ8,õŠ,õ.Š,õõ,ï,ÿ,Š,Š8,Š,Š8,Š,õõ,Š,õ,cÿÿ,Š,õ,õ,Š,õ,Š,Š0,õê	,í,õ,Š,õõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,Šõ,Š,Š8,Š,Š,õõ,ñõ,Š,Š2Š,õ.Š,õõ,ï,ÿ,Š,Š8,Š,Š8,Š,õõ,Š,õ,cÿÿ,Š,õ,õ,Š2Š,õ.Š,õõ,ï,ÿ,Š,Š8,Š,Š8,Š,õõ,Š,õ,cÿÿ,Š,õ,õ,Š,õ,Šÿ,Š,Š8,Š,Š8,Š,õõ,Š,õ,cÿÿ,Š,õ,õ,Š,õ,Š,Š8,õê	,í,õ,Š,õõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,Šõ,Š,Š8,Š,Š,õõ,ñõ,Š,Š2Š,õ.Š,õõ,ï,ÿ,Š,Š8,Š,Š8,Š,õõ,Š,õ,cÿÿ,Š,õ,õ,Š,õ,Š,Šÿ,õFF,Š,LŠ8,õŠ,õ.Š,õõ,ï,ÿ,Š,Š8,Š,Š8,Š,õõ,Š,õ,cÿÿ,Š,õ,õ,Š,õ,Š,Š8,õê	,í,õ,Š,õõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,Š,õ,Š,ÿÿÿŠ,õõ,Š,õÿcŠ,ÿ,Š,õ,õ,Š,õ,Š,Š8,ƒ.õê	,í,õ,Š,õõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,Š,õ,Š,ŠÿÿŠ,õõ,Š,Š8,­­­­­­­¬­­­­­­­­­­­­­ÿŠ0ÿ†1111444444444Š,Š8,Š,õ,õ,Š,õõ,Š,Š8,Š,Š,õ.Š,õõ,ï,ÿ,Š,Š8,Š,Š8,Š,õõ,Š,õ,cÿÿ,Š,õ,õ,Š,õ,Š,Š0,õê	,í,õ,Š,õõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,Šõ,Š,Š8,Š,Š,õõ,ñõ,Š,ŠŠ8,Š,ÿ,Š,ñ,õ,Š,õ,Š,Š4ÿÿÿŠ,õõ,Š,Š8,Š,Š8,Š,õ,õ,Š,õõ,Š,Š8,Š,Š,õõŠ,õê	,í,
	õê4	,ÿûÿÿÿŠ,õ,Š,õõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,Š,õ,Š,Š8,Š,Š,õõ,ñõ,Š,Š2Š,õ.Š,õõ,ï,ÿ,Š,Š8,Š­ï­­­­®­­SR­­Š,Š8,Š,Š8,Š,õõ,Š,õ,cÿÿ,Š,õ,õ,Š,õ,Š,Š8,õê	,í,õ,Š,õõ,Š,õõlŠ,Š8,Š,ÿ,Œ,ñ,õ,Š,õ,Š,ÿÿÿŠ,õõ,Š,Šõ,cÿÿ,Š,õ,õ,Š,õ,Š,Š8,ƒ.õê	,í,õ,Š,õõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,Š,õ,Š,ŠÿÿŠ,õõ,Š,Š8,Š,Š8,Š,õ,õ,Š,õõ,Š,Š8,Šif,Š,õõŠ,õê	,í,
	õê4	,ÿŠ,Š8,Š,Š8,Š,õõ,Š,õ,cÿÿ,Š,õ,õ,Š,õõõ,Š,õõlŠ,Š8,Š,ÿ,Š,ñ,õ,Š,õ,Š,ŠÿÿŠ,õõ,Š,Š8,Š,Š8,Š,õ,õ,Š,5}{6}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}}{5}{65}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}}{5}{6}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿ{5}{5}{{1}}{5}{}}}}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{65}{{1}}{5}{}}}{6}{}{6}{5}/6}{}{}{5}{6}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}}{5}{65}{5}{55}{ÿ{5}{5}{5}{}{5}{5}{ÿ5{}{5}{6}{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿ{5}}{5}{0}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{5}{}}}{6}{5}{5}{5};5}{ÿ5{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿset}{5}{5}{5}}{5}{5}{5}{{1}}{5}{}}}{6}{}{}{}{5}{6}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}}{5}{65}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}}{5}{6}{5}{5}{ÿ{5}{5}{5}{5}{ï5{}{5}{6}{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{6}{5}{{1}}{5}{0}{5}{ÿ{5}{5}{{1}}{5}{}}}{6}{5}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}{ÿ{5}}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{5}{}}}}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{5}{‡Î‚‚„É‚„5}{5}{ÿ{5}}{5}{5}{5}}{5}{5}{5}{{1}}{5}{}}}{6}{}{6}{5}{6}{}{5}{ÿ5{}{5}{6}{5}{5}}{5}{65}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}}{5}{6}{5}{5}{ÿ{5}{5}{5}}{5}{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{5}{}}}}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{3}{5}{5}{ÿ{5}}{5}{5}{5}{V''<ÿÿ{5}{5}{5}{5}{5}{5}{0}{5}{ÿ{5}{5}{{5}}{5}{5}{ÿk5}{5}{5}{5}{5}{{1}}{6}{5}{{1}}{5}{}}}}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{µ}{5}{5}{‰}{5}{{1}}{6}{5}{5}{ÿ{5}}{5}{0}{5}{ÿ{5}{5}{5}{{1}}{{5}}}}{6}{5}{5}{5}{5}{ÿ5{5}{5}{ÿ{5}}{5}{5}{}{{1}}{6}{5}{5}{ÿ{5}}{5}{0}{5}{ÿ{5}{5}{{5}}{5}{5}{ÿ{5}{5}{5}{5}{{1}}{5}{}}}}{}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿ{5}}{5}{05}{5}{5}{{1}}{6}{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{5}{}}}}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿ{5}}{5}{5}{5}{{1}}{5}{}}}{6}{5}{5}{5}{5}{ÿ5{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿ{5}}{5}{5}{5}}{5}{5}{5}{{1}}{5}{}}}{6}{}{6}{5}{6}{}{5}{ÿ5{}{5}{6}{5}{5}}{5}{65}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}}{5}{6}{5}{5}{}{5}{V''<ÿÿ{5}{5}{5}{0}{5}{{1}}{6}{5}{5}{ÿ{5}}{5}{z}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{5}{}}}{¿¾{0,3,043;0331%0;¿µ03{3,3;01%­­­­­­ÿŠ0ÿ†{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿ{5}{5}{{1}}{5}{}}}}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{65}{5}{5}}{{1}}{6}{5}{1}{ÿ{5}}{5}{z}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{5}{}}}{¿¾{0,3,043;0331%0;¿µ03{3,3;01%­­­­­­ÿŠ0ÿ†{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿ{5}{5}{{1}}{5}{}}}}{5}{5}{ÿ{Ë‚„Ó}{5}{5}{ÿ5{}{5}{65}{5}{5}{{1}}{5}{y}}{6}{}{6}{5}{6}{}{}{5}{6}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}}{5}{65}{5}{5}{5}{ÿ5{}{5}{6}{5I}{5}}{5}{6}{5}{5}{ÿ{5}{5}{5}{5}{5}{6}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{4}{6}{5}{5}}{5}{65}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}}{5}{6}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿ{5}{5}{{1}}{5}{}}}}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{65}{{1}}{5}{}}}{6}{}{6}{5}/6}{}{}{5}{6}{5}{5}{ÿ{5}{5}{}{5}{6}{5}{5}}{5}{65}{5}{55}{ÿ{5}{5}{5}{}{5}{5}{ÿ5{}{5}{6}{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿ{5}}{5}{0}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{5}{}}}{6}{5}{5}{5};5}{ÿ5{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}}{5}{}}}}{5}{5}{ÿÿ=ÿ~=õ~=v~=V~=ÿ~=ÿ~=ÿ~=v~=ÿ~=ÿ~=ÿ~=v~=ÿ~=õ~=ÿ~=õ~=ÿ5}{{1}}{6}{5}{5}{ÿ{5}{5}{{1}}{5}{}}}}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{65}{5}{5}}{{1}}{6}{5}{5}{ÿ{5}}{5}{z}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{5}{}}}{¿¾{0,3,043;0331%0;¿µ03{3,3;01%­­­­­­ÿŠ0ÿ†{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿ{5}{5}{{1}}{}{5}{6}{5}{5}}{5}{65}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}}{5}{6}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}{ÿ{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{6}{5}{5}}{5}{5}{5}{5}{{1}}{6}{5}{5}{ÿ{5}}{5}{5}{5}}{5}{5}{5}{{1}}{5}{}}}{6}{}{6}{5}{3}{}{5}{ÿ5{}{5}{6}{5}{5}}{5}{65}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}}{5}{6}{5}{5}{ÿ{5}{5}{5}}{5}{5}}{5}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{5}{}}}}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{3}{5}{5}{ÿ{5}}{5}{5}{5}{V''<ÿÿ}{5}{5}{ÿ{5}{5}{5}{5}{5}{{1}}{5}{}}}}{5}{5}{ÿ{5}{5}{5}{5}{ÿ5{}{5}{6}{5}{5}{ÿ{5}ber( s:sub(1, 4),  16end


n stri idx, m­­­111444444444sg)
  local line_count = 1
