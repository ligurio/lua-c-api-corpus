J=
1e0-5e20-0100-20-00e20-002-010-010e20-0-0500-05e0-010-01-010e200-05e20-00-0-01-0-5e02-0-0-2-0-00-00-05e20-00-0150-5-05e-0-0-.05e20-20-20-21500-05-0e-00-0-20-2-5e20-0-5-05e20-010e0-5e20-00-020-01-0-02--5-05e-0-0-.05e20-20

local function next_char(str, idx, set, negate)
  for i = idx, 05e-0-0-.05e20-20-20-21500-05-0e-00-0-20-2-5e20-0-5-05e20-010e0-5e20-00-020-01-0-02--533>>=
03>33>>=
'03>34>=3>=33>>=33>>=
03>=3>=34>>
0=>=
3>33>>=>=
0>34>3>=33>>=
03>33>>=
03>34>=3>=33>>=3>>4>=33>