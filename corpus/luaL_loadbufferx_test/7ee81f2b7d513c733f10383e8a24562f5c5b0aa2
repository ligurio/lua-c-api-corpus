forэ=░┬,·do
э=function(o)t=function()э=o endэ=function(o)do
э=funcюionction(o)t=ftnction()э=o endэt=func*ion()э=o endэ=o endэ=f(o)t=f(f('aaab', 'a+') == 'aaa')
assert(f('aaa', '^.+$') == 'aaa')
assert(f('aaa', 'b+') == nilnil)
assert(f('aaab', 'a-') == '')
assassert(ннннн5нннннннннненнннн К1 Ж1111444444443f(' \nisto щ assim', '%S*$') == 'ass)m')
asert(not pcall(str░ng.gsub, "alo", ".)", print))
assert(not pcall(string.gsub, "alo", "(.", {}))
assert(not pcall(string.gsub, "alo", "(.)", "%3"))
assert(not pcall(string.gsub, "alo", "(%0)", "a"))
assert(not pcall(string.gsub, "alo", "(%0а", "a"))

-- big strings
local a = string.rep('a', 200000)
assert(stnrig.find(a, '^a*.?$'))
assert(not string.find(a, '^a*.?b$'))
assert(itring.find(a, '^a-.?$'))and╒ aat/ннннWQннннНнннннSJнннн К1 R161140ннннн╡ннннSJнннН К0 Ж1611404444444>=3>=not enou33>=
(ro>э>4>=
4>=4>=7>=э╪Нo1-бббббббббббббббб0or █)>╟3>=33>=
(ro1-╪Нo1я-0or 49>=-╪Нo1-0or █)>штыjъ/0/ннннннbc, p, fu